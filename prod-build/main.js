/*! For license information please see main.js.LICENSE.txt */
(()=>{var e={3015:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){"use strict";o=function(){return t};var e,t={},r=Object.prototype,a=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),s=new A(n||[]);return i(a,"_invoke",{value:O(e,r,s)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function k(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,L=E&&E(E(N([])));L&&L!==r&&a.call(L,c)&&(x=L);var I=k.prototype=b.prototype=Object.create(x);function B(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,i,s,c){var u=p(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==n(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var o;i(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}})}function O(t,r,n){var o=d;return function(a,i){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var u=p(t,r,n);if("normal"===u.type){if(o=n.done?g:y,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=p(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(a.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=k,i(I,"constructor",{value:k,configurable:!0}),i(k,"constructor",{value:w,configurable:!0}),w.displayName=f(k,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,f(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),f(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(h(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),f(I,l,"Generator"),f(I,c,(function(){return this})),f(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function a(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){a(i,n,o,s,c,"next",e)}function c(e){a(i,n,o,s,c,"throw",e)}s(void 0)}))}}var s=r(1911),c=r(21),u=r(766),l=r(638);t.getBookCategories=function(){var e=i(o().mark((function e(t,r){var n,a,i,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 1,u.checkOperationAccessibilityByRole(t.roleSerial,1,"getBookCategories()"),n=u.getDataAccessibilityRoleFilter(t.roleSerial),e.next=5,c.getBookCategories({bookCategoryAccessLevel:n},r);case 5:if(a=e.sent,i=a.bookCategories,a.totalBookCategory,i&&0!==i.length){e.next=14;break}throw(s=new Error).status=404,s.message="Book category not found",s.error="Book category not found or you do not have access to the data",s;case 14:return e.abrupt("return",i);case 15:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.getBookCategoryById=function(){var e=i(o().mark((function e(t,r){var n,a,i,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 2,u.checkOperationAccessibilityByRole(t.roleSerial,2,"getBookCategoryById()"),l.checkWrongId(r,"book category"),n=u.getDataAccessibilityRoleFilter(t.roleSerial),e.next=6,c.getBookCategories({bookCategoryAccessLevel:n,_id:r});case 6:if(a=e.sent,i=a.bookCategories,a.totalBookCategory,i&&0!==i.length){e.next=15;break}throw(s=new Error).status=404,s.message="Book category not found with the provided book category ID",s.error="Book category not found by the provided ID (".concat(r,") or you do not have access to the data"),s;case 15:return e.abrupt("return",i);case 16:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.getBookCategoriesByIds=function(){var e=i(o().mark((function e(t,r,n){var a,i,s,f,h,p,d,y,v,g,m,b,w,k,x,E;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(10,u.checkOperationAccessibilityByRole(t.roleSerial,10,"deleteBulkBookCategories()"),a=l.separateMongoDbValidAndInvalidIds(r,"book category IDs"),i=a.validIds,s=a.invalidIds,!((f=a.duplicateIds)&&f.length>0)){e.next=11;break}throw h=f.length>1?"s":"",p=JSON.stringify(f),(d=new Error).status=400,d.message="Duplicate ID".concat(h," found: ").concat(p),d.error="Duplicate ID".concat(h," found: ").concat(p),d;case 11:if(0!==i.length){e.next=18;break}throw y=s.map((function(e){return String(e)})),(v=new Error).status=400,v.message="Invalid book category ids",v.error="All book category ids (".concat(y,") are invalid, no book category found by the provided IDs"),v;case 18:return e.next=20,u.getDataAccessibilityRoleFilter(t.roleSerial);case 20:return g=e.sent,e.next=23,c.getBookCategories({bookCategoryAccessLevel:g,_id:{$in:i}},n);case 23:if(m=e.sent,b=m.bookCategories,m.totalBookCategory,w=[],k=[],i.forEach((function(e){b.some((function(t){return t._id.equals(e)}))?w.push(e):k.push(e)})),b&&0!==b.length){e.next=36;break}throw x=s.concat(k),(E=new Error).status=404,E.message="Book category not found with the provided book category IDs",E.error="Book category not found by the provided IDs (".concat(x,") or you do not have access to the data"),E;case 36:return e.abrupt("return",{bookCategories:b,presentIds:w,absentIds:k,invalidIds:s});case 37:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.createBookCategory=function(){var e=i(o().mark((function e(t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 1,u.checkOperationAccessibilityByRole(t.roleSerial,1,"createBookCategory()"),l.checkWrongProperty(r,s.schema.paths,"book category",[]),l.checkWrongAccessLevel(t,r,"book category"),e.next=6,c.createBookCategory(r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.createBulkBookCategory=function(){var e=i(o().mark((function e(t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 1,u.checkOperationAccessibilityByRole(t.roleSerial,1,"createBulkBookCategory()"),l.checkWrongPropertyOfList(r,s.schema.paths,"book category",[]),l.checkWrongAccessLevelOfList(t,r,"book category"),e.next=6,c.createBulkBookCategory(r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.updateBookCategoryById=function(){var e=i(o().mark((function e(t,r,n){var a,i,f,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 2,u.checkOperationAccessibilityByRole(t.roleSerial,2,"updateBookCategoryById()"),l.checkWrongId(r,"book category"),l.checkWrongProperty(n,s.schema.paths,"book category",[]),a=u.getDataAccessibilityRoleFilter(t.roleSerial),e.next=7,c.getBookCategories({bookCategoryAccessLevel:a,_id:r});case 7:if(i=e.sent,f=i.bookCategories,i.totalBookCategory,f&&0!==f.length){e.next=16;break}throw(h=new Error).status=404,h.message="Book category not found with the provided book category ID",h.error="Book category not found by the provided ID (".concat(r,") or you do not have access to the data"),h;case 16:return e.next=18,c.updateBookCategoryById(r,n);case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.updateBulkBookCategories=function(){var e=i(o().mark((function e(t,r){var n,a,i,f,h,p,d,y,v,g,m,b,w,k,x,E;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1,u.checkOperationAccessibilityByRole(t.roleSerial,1,"updateBulkBookCategories()"),l.checkWrongPropertyOfList(r,s.schema.paths,"book category",[]),n=r.map((function(e){return e._id})),a=l.separateMongoDbValidAndInvalidIds(n,"book category IDs"),i=a.validIds,f=a.invalidIds,0!==i.length){e.next=12;break}throw h=f.map((function(e){return String(e)})),(p=new Error).status=400,p.message="Invalid book category ids",p.error="All book category ids (".concat(h,") are invalid, no book category found by the provided IDs"),p;case 12:return e.next=14,u.getDataAccessibilityRoleFilter(t.roleSerial);case 14:return d=e.sent,e.next=17,c.getBookCategories({bookCategoryAccessLevel:d,_id:{$in:i}});case 17:if(y=e.sent,v=y.bookCategories,y.totalBookCategory,g=[],m=[],i.forEach((function(e){v.some((function(t){return t._id.equals(e)}))?g.push(e):m.push(e)})),v&&0!==v.length){e.next=30;break}throw b=f.concat(m),(w=new Error).status=404,w.message="Book category not found with the provided book category IDs",w.error="Book category not found by the provided IDs (".concat(b,") or you do not have access to the data"),w;case 30:return k=r.filter((function(e){return g.includes(e._id)})),e.next=33,s.generateBulkUpdateOperations(k);case 33:return x=e.sent,e.next=36,c.updateBulkBookCategories(x);case 36:return E=e.sent,e.abrupt("return",{bookCategory:E,presentIds:g,absentIds:m,invalidIds:f});case 38:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.deleteBookCategoryById=function(){var e=i(o().mark((function e(t,r){var n,a,i,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 2,u.checkOperationAccessibilityByRole(t.roleSerial,2,"deleteBookCategoryById()"),l.checkWrongId(r,"book category"),n=u.getDataAccessibilityRoleFilter(t.roleSerial),e.next=6,c.getBookCategories({bookCategoryAccessLevel:n,_id:r});case 6:if(a=e.sent,i=a.bookCategories,a.totalBookCategory,i&&0!==i.length){e.next=15;break}throw(s=new Error).status=404,s.message="Book category not found with the provided book category ID",s.error="Book category not found by the provided ID (".concat(r,") or you do not have access to the data"),s;case 15:return e.next=17,c.deleteBookCategoryById(i[0]._id);case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.deleteBulkBookCategories=function(){var e=i(o().mark((function e(t,r){var n,a,i,f,h,p,d,y,v,g,m,b,w,k,x,E,L,I;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1,u.checkOperationAccessibilityByRole(t.roleSerial,1,"deleteBulkBookCategories()"),n=l.separateMongoDbValidAndInvalidIds(r,"book category IDs"),a=n.validIds,i=n.invalidIds,!((f=n.duplicateIds)&&f.length>0)){e.next=11;break}throw h=f.length>1?"s":"",p=JSON.stringify(f),(d=new Error).status=400,d.message="Duplicate ID".concat(h," found: ").concat(p),d.error="Duplicate ID".concat(h," found: ").concat(p),d;case 11:if(0!==a.length){e.next=18;break}throw y=i.map((function(e){return String(e)})),(v=new Error).status=400,v.message="Invalid book category IDs",v.error="All book category ids (".concat(y,") are invalid, no book category found by the provided IDs"),v;case 18:return e.next=20,u.getDataAccessibilityRoleFilter(t.roleSerial);case 20:return g=e.sent,e.next=23,c.getBookCategories({bookCategoryAccessLevel:g,_id:{$in:a}});case 23:if(m=e.sent,b=m.bookCategories,m.totalBookCategory,w=[],k=[],a.forEach((function(e){b.some((function(t){return t._id.equals(e)}))?w.push(e):k.push(e)})),b&&0!==b.length){e.next=36;break}throw x=i.concat(k),(E=new Error).status=404,E.message="Book category not found with the provided book category IDs",E.error="Book category not found with the provided book category IDs (".concat(x,") or you do not have access to the data"),E;case 36:return e.next=38,s.generateBulkDeleteOperations(b);case 38:return L=e.sent,e.next=41,c.deleteBulkBookCategory(L);case 41:return I=e.sent,e.abrupt("return",{bookCategory:I,presentIds:w,absentIds:k,invalidIds:i});case 43:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.searchBookCategory=function(){var e=i(o().mark((function e(t,r,n){var a,i,f,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 10,u.checkOperationAccessibilityByRole(t.roleSerial,10,"searchBookCategory()"),l.checkWrongProperty(r,s.schema.paths,"book category",[]),e.next=5,s.generateSearchOperations(t.roleSerial,r);case 5:return a=e.sent,e.next=8,c.getBookCategories(a,n);case 8:if(i=e.sent,f=i.bookCategories,i.totalBookCategory,f&&0!==f.length){e.next=17;break}throw(h=new Error).status=404,h.message="Book category not found",h.error="Book category not found with the provided search criteria or you do not have access to the data",h;case 17:return e.abrupt("return",f);case 18:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},1287:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){"use strict";o=function(){return t};var e,t={},r=Object.prototype,a=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),s=new A(n||[]);return i(a,"_invoke",{value:O(e,r,s)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function k(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,L=E&&E(E(N([])));L&&L!==r&&a.call(L,c)&&(x=L);var I=k.prototype=b.prototype=Object.create(x);function B(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,i,s,c){var u=p(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==n(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var o;i(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}})}function O(t,r,n){var o=d;return function(a,i){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var u=p(t,r,n);if("normal"===u.type){if(o=n.done?g:y,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=p(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(a.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=k,i(I,"constructor",{value:k,configurable:!0}),i(k,"constructor",{value:w,configurable:!0}),w.displayName=f(k,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,f(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),f(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(h(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),f(I,l,"Generator"),f(I,c,(function(){return this})),f(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function a(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){a(i,n,o,s,c,"next",e)}function c(e){a(i,n,o,s,c,"throw",e)}s(void 0)}))}}var s=r(9047),c=r(8173),u=r(766),l=r(638);t.getBookInfos=function(){var e=i(o().mark((function e(t,r){var n,a,i,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 1,u.checkOperationAccessibilityByRole(t.roleSerial,1,"getBookInfos()"),n=u.getDataAccessibilityRoleFilter(t.roleSerial),e.next=5,c.getBookInfos({bookInfoAccessLevel:n},r);case 5:if(a=e.sent,i=a.bookInfos,a.totalBookInfo,i&&0!==i.length){e.next=14;break}throw(s=new Error).status=404,s.message="Book info not found",s.error="Book info not found or you do not have access to the data",s;case 14:return e.abrupt("return",i);case 15:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.getBookInfoById=function(){var e=i(o().mark((function e(t,r){var n,a,i,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 2,u.checkOperationAccessibilityByRole(t.roleSerial,2,"getBookInfoById()"),l.checkWrongId(r,"book info"),n=u.getDataAccessibilityRoleFilter(t.roleSerial),e.next=6,c.getBookInfos({bookInfoAccessLevel:n,_id:r});case 6:if(a=e.sent,i=a.bookInfos,a.totalBookInfo,i&&0!==i.length){e.next=15;break}throw(s=new Error).status=404,s.message="Book info not found with the provided book info ID",s.error="Book info not found by the provided ID (".concat(r,") or you do not have access to the data"),s;case 15:return e.abrupt("return",i);case 16:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.getBookInfosByIds=function(){var e=i(o().mark((function e(t,r,n){var a,i,s,f,h,p,d,y,v,g,m,b,w,k,x,E;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(10,u.checkOperationAccessibilityByRole(t.roleSerial,10,"deleteBulkBookInfos()"),a=l.separateMongoDbValidAndInvalidIds(r,"book info IDs"),i=a.validIds,s=a.invalidIds,!((f=a.duplicateIds)&&f.length>0)){e.next=11;break}throw h=f.length>1?"s":"",p=JSON.stringify(f),(d=new Error).status=400,d.message="Duplicate ID".concat(h," found: ").concat(p),d.error="Duplicate ID".concat(h," found: ").concat(p),d;case 11:if(0!==i.length){e.next=18;break}throw y=s.map((function(e){return String(e)})),(v=new Error).status=400,v.message="Invalid book info ids",v.error="All book info ids (".concat(y,") are invalid, no book info found by the provided IDs"),v;case 18:return e.next=20,u.getDataAccessibilityRoleFilter(t.roleSerial);case 20:return g=e.sent,e.next=23,c.getBookInfos({bookInfoAccessLevel:g,_id:{$in:i}},n);case 23:if(m=e.sent,b=m.bookInfos,m.totalBookInfo,w=[],k=[],i.forEach((function(e){b.some((function(t){return t._id.equals(e)}))?w.push(e):k.push(e)})),b&&0!==b.length){e.next=36;break}throw x=s.concat(k),(E=new Error).status=404,E.message="Book info not found with the provided book info IDs",E.error="Book info not found by the provided IDs (".concat(x,") or you do not have access to the data"),E;case 36:return e.abrupt("return",{bookInfos:b,presentIds:w,absentIds:k,invalidIds:s});case 37:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.createBookInfo=function(){var e=i(o().mark((function e(t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 1,u.checkOperationAccessibilityByRole(t.roleSerial,1,"createBookInfo()"),l.checkWrongProperty(r,s.schema.paths,"book info",[]),l.checkWrongAccessLevel(t,r,"book info"),e.next=6,c.createBookInfo(r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.createBulkBookInfo=function(){var e=i(o().mark((function e(t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 1,u.checkOperationAccessibilityByRole(t.roleSerial,1,"createBulkBookInfo()"),l.checkWrongPropertyOfList(r,s.schema.paths,"book info",[]),l.checkWrongAccessLevelOfList(t,r,"book info"),e.next=6,c.createBulkBookInfo(r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.updateBookInfoById=function(){var e=i(o().mark((function e(t,r,n){var a,i,f,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 2,u.checkOperationAccessibilityByRole(t.roleSerial,2,"updateBookInfoById()"),l.checkWrongId(r,"book info"),l.checkWrongProperty(n,s.schema.paths,"book info",[]),a=u.getDataAccessibilityRoleFilter(t.roleSerial),e.next=7,c.getBookInfos({bookInfoAccessLevel:a,_id:r});case 7:if(i=e.sent,f=i.bookInfos,i.totalBookInfo,f&&0!==f.length){e.next=16;break}throw(h=new Error).status=404,h.message="Book info not found with the provided book info ID",h.error="Book info not found by the provided ID (".concat(r,") or you do not have access to the data"),h;case 16:return e.next=18,c.updateBookInfoById(r,n);case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.updateBulkBookInfos=function(){var e=i(o().mark((function e(t,r){var n,a,i,f,h,p,d,y,v,g,m,b,w,k,x,E;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1,u.checkOperationAccessibilityByRole(t.roleSerial,1,"updateBulkBookInfos()"),l.checkWrongPropertyOfList(r,s.schema.paths,"book info",[]),n=r.map((function(e){return e._id})),a=l.separateMongoDbValidAndInvalidIds(n,"book info IDs"),i=a.validIds,f=a.invalidIds,0!==i.length){e.next=12;break}throw h=f.map((function(e){return String(e)})),(p=new Error).status=400,p.message="Invalid book info ids",p.error="All book info ids (".concat(h,") are invalid, no book info found by the provided IDs"),p;case 12:return e.next=14,u.getDataAccessibilityRoleFilter(t.roleSerial);case 14:return d=e.sent,e.next=17,c.getBookInfos({bookInfoAccessLevel:d,_id:{$in:i}});case 17:if(y=e.sent,v=y.bookInfos,y.totalBookInfo,g=[],m=[],i.forEach((function(e){v.some((function(t){return t._id.equals(e)}))?g.push(e):m.push(e)})),v&&0!==v.length){e.next=30;break}throw b=f.concat(m),(w=new Error).status=404,w.message="Book info not found with the provided book info IDs",w.error="Book info not found by the provided IDs (".concat(b,") or you do not have access to the data"),w;case 30:return k=r.filter((function(e){return g.includes(e._id)})),e.next=33,s.generateBulkUpdateOperations(k);case 33:return x=e.sent,e.next=36,c.updateBulkBookInfos(x);case 36:return E=e.sent,e.abrupt("return",{bookInfo:E,presentIds:g,absentIds:m,invalidIds:f});case 38:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.deleteBookInfoById=function(){var e=i(o().mark((function e(t,r){var n,a,i,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 2,u.checkOperationAccessibilityByRole(t.roleSerial,2,"deleteBookInfoById()"),l.checkWrongId(r,"book info"),n=u.getDataAccessibilityRoleFilter(t.roleSerial),e.next=6,c.getBookInfos({bookInfoAccessLevel:n,_id:r});case 6:if(a=e.sent,i=a.bookInfos,a.totalBookInfo,i&&0!==i.length){e.next=15;break}throw(s=new Error).status=404,s.message="Book info not found with the provided book info ID",s.error="Book info not found by the provided ID (".concat(r,") or you do not have access to the data"),s;case 15:return e.next=17,c.deleteBookInfoById(i[0]._id);case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.deleteBulkBookInfos=function(){var e=i(o().mark((function e(t,r){var n,a,i,f,h,p,d,y,v,g,m,b,w,k,x,E,L,I;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1,u.checkOperationAccessibilityByRole(t.roleSerial,1,"deleteBulkBookInfos()"),n=l.separateMongoDbValidAndInvalidIds(r,"book info IDs"),a=n.validIds,i=n.invalidIds,!((f=n.duplicateIds)&&f.length>0)){e.next=11;break}throw h=f.length>1?"s":"",p=JSON.stringify(f),(d=new Error).status=400,d.message="Duplicate ID".concat(h," found: ").concat(p),d.error="Duplicate ID".concat(h," found: ").concat(p),d;case 11:if(0!==a.length){e.next=18;break}throw y=i.map((function(e){return String(e)})),(v=new Error).status=400,v.message="Invalid book info IDs",v.error="All book info ids (".concat(y,") are invalid, no book info found by the provided IDs"),v;case 18:return e.next=20,u.getDataAccessibilityRoleFilter(t.roleSerial);case 20:return g=e.sent,e.next=23,c.getBookInfos({bookInfoAccessLevel:g,_id:{$in:a}});case 23:if(m=e.sent,b=m.bookInfos,m.totalBookInfo,w=[],k=[],a.forEach((function(e){b.some((function(t){return t._id.equals(e)}))?w.push(e):k.push(e)})),b&&0!==b.length){e.next=36;break}throw x=i.concat(k),(E=new Error).status=404,E.message="Book info not found with the provided book info IDs",E.error="Book info not found with the provided book info IDs (".concat(x,") or you do not have access to the data"),E;case 36:return e.next=38,s.generateBulkDeleteOperations(b);case 38:return L=e.sent,e.next=41,c.deleteBulkBookInfo(L);case 41:return I=e.sent,e.abrupt("return",{bookInfo:I,presentIds:w,absentIds:k,invalidIds:i});case 43:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.searchBookInfo=function(){var e=i(o().mark((function e(t,r,n){var a,i,f,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 10,u.checkOperationAccessibilityByRole(t.roleSerial,10,"searchBookInfo()"),l.checkWrongProperty(r,s.schema.paths,"book info",[]),e.next=5,s.generateSearchOperations(t.roleSerial,r);case 5:return a=e.sent,e.next=8,c.getBookInfos(a,n);case 8:if(i=e.sent,f=i.bookInfos,i.totalBookInfo,f&&0!==f.length){e.next=17;break}throw(h=new Error).status=404,h.message="Book info not found",h.error="Book info not found with the provided search criteria or you do not have access to the data",h;case 17:return e.abrupt("return",f);case 18:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},7809:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){var o;return o=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==n(o)?o:String(o))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(){"use strict";s=function(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),s=new A(n||[]);return a(i,"_invoke",{value:O(e,r,s)}),i}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function k(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,L=E&&E(E(N([])));L&&L!==r&&o.call(L,c)&&(x=L);var I=k.prototype=b.prototype=Object.create(x);function B(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(a,i,s,c){var u=p(e[a],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==n(f)&&o.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var i;a(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function O(t,r,n){var o=d;return function(a,i){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var u=p(t,r,n);if("normal"===u.type){if(o=n.done?g:y,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=p(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(o.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=k,a(I,"constructor",{value:k,configurable:!0}),a(k,"constructor",{value:w,configurable:!0}),w.displayName=f(k,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,f(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),f(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(h(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),f(I,l,"Generator"),f(I,c,(function(){return this})),f(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function c(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){c(a,n,o,i,s,"next",e)}function s(e){c(a,n,o,i,s,"throw",e)}i(void 0)}))}}var l=r(9579),f=r(1877),h=r(9187),p=r(766),d=r(638),y=r(8817),v=r(4797).generateReferenceNumber;t.getBookReservations=function(){var e=u(s().mark((function e(t,r){var n,o,a,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 1,p.checkOperationAccessibilityByRole(t.roleSerial,1,"getBookReservations()"),n=p.getDataAccessibilityRoleFilter(t.roleSerial),e.next=5,h.getBookReservations({reservationAccessLevel:n},r);case 5:if(o=e.sent,a=o.bookReservations,o.totalBookReservation,a&&0!==a.length){e.next=14;break}throw(i=new Error).status=404,i.message="Book reservation not found",i.error="Book reservation not found or you do not have access to the data",i;case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.getBookReservationById=function(){var e=u(s().mark((function e(t,r){var n,o,a,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 2,p.checkOperationAccessibilityByRole(t.roleSerial,2,"getBookReservationById()"),d.checkWrongId(r,"book reservation"),n=p.getDataAccessibilityRoleFilter(t.roleSerial),e.next=6,h.getBookReservations({reservationAccessLevel:n,_id:r});case 6:if(o=e.sent,a=o.bookReservations,o.totalBookReservation,a&&0!==a.length){e.next=15;break}throw(i=new Error).status=404,i.message="Book reservation not found with the provided book reservation ID",i.error="Book reservation not found by the provided ID (".concat(r,") or you do not have access to the data"),i;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.createBookReservation=function(){var e=u(s().mark((function e(t,r,n){var o,i,c,u,g,m,b;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1,p.checkOperationAccessibilityByRole(t.roleSerial,1,"createBookReservation()"),d.checkWrongProperty(r,l.schema.paths,"book reservation",["reservationDetails","user"]),d.checkWrongPropertyOfList(r.reservationDetails,f.schema.paths,"reservation detail",[]),d.checkWrongAccessLevel(t,r,"book reservation"),r.reservationDetails){e.next=11;break}throw(o=new Error).status=400,o.message="Reservation details are required",o.error="Reservation details are required",o;case 11:return r.reservationRef||(r.reservationRef=v()),r.reservationDate||(r.reservationDate=new Date),i={name:r.user.customerName,email:r.user.customerEmail,mobile:r.user.customerPhone,address:[{street:r.user.address.street,postalCode:r.user.address.postalCode,city:r.user.address.city,state:r.user.address.state,country:r.user.address.country}]},e.next=16,y.getAndUpdateOrCreateUserBasedOnEmail(t,i);case 16:return c=e.sent,r.userId=c._id,e.next=20,h.createBookReservation(r,n);case 20:if(u=e.sent){e.next=27;break}throw(g=new Error).status=400,g.message="Book reservation not created",g.error="Book reservation not created",g;case 27:return r._id=u._id,m=r.reservationDetails.map((function(e){return a(a({},e),{},{bookReservationId:u._id})})),e.next=31,f.insertMany(m);case 31:return b=e.sent,r.reservationDetails=b,e.abrupt("return",r);case 34:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.updateBookReservationById=function(){var e=u(s().mark((function e(t,r,n){var o,a,i,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 2,p.checkOperationAccessibilityByRole(t.roleSerial,2,"updateBookReservationById()"),d.checkWrongProperty(n,l.schema.paths,"book reservation",["reservationDetails"]),o=p.getDataAccessibilityRoleFilter(t.roleSerial),e.next=6,h.getBookReservations({reservationAccessLevel:o,_id:r});case 6:if(a=e.sent,i=a.bookReservations,a.totalBookReservation,i&&0!==i.length){e.next=15;break}throw(c=new Error).status=404,c.message="Book reservation not found with the provided book reservation ID",c.error="Book reservation not found by the provided ID (".concat(r,") or you do not have access to the data"),c;case 15:return e.next=17,h.updateBookReservationById(r,n);case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.deleteBookReservationById=function(){var e=u(s().mark((function e(t,r){var n,o,a,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 2,p.checkOperationAccessibilityByRole(t.roleSerial,2,"deleteBookReservationById()"),n=p.getDataAccessibilityRoleFilter(t.roleSerial),e.next=5,h.getBookReservations({reservationAccessLevel:n,_id:r});case 5:if(o=e.sent,a=o.bookReservations,o.totalBookReservation,a&&0!==a.length){e.next=14;break}throw(i=new Error).status=404,i.message="Book reservation not found with the provided book reservation ID",i.error="Book reservation not found by the provided ID (".concat(r,") or you do not have access to the data"),i;case 14:return e.next=16,h.deleteBookReservationById(a[0]._id);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.searchBookReservation=function(){var e=u(s().mark((function e(t,r,n){var o,a,i,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 10,p.checkOperationAccessibilityByRole(t.roleSerial,10,"searchBookReservation()"),d.checkWrongProperty(r,l.schema.paths,"book reservation",["reservationDetails"]),e.next=5,l.generateSearchOperations(t.roleSerial,r);case 5:return o=e.sent,e.next=8,h.getBookReservations(o,n);case 8:if(a=e.sent,i=a.bookReservations,a.totalBookReservation,i&&0!==i.length){e.next=17;break}throw(c=new Error).status=404,c.message="Book reservation not found",c.error="Book reservation not found with the provided search criteria or you do not have access to the data",c;case 17:return e.abrupt("return",i);case 18:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.getAvailableBook=function(){var e=u(s().mark((function e(t,r){var n,o,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 2,n={page:1,pageSize:100,sortBy:"bookInfo.bookTitle",sortOrder:1},o=!r||isNaN(r.page)||isNaN(r.pageSize)||!r.sortBy||!r.sortOrder||r.pageSize<1?n:r,a=(o.page-1)*o.pageSize,e.next=6,f.aggregate([{$lookup:{from:"bookreservations",localField:"bookReservationId",foreignField:"_id",as:"bookReservation"}},{$unwind:"$bookReservation"},{$match:{"bookReservation.reservationStatusNum":1}},{$group:{_id:"$bookInfoId",totalReserved:{$sum:"$quantity"}}},{$lookup:{from:"bookinfos",localField:"_id",foreignField:"_id",as:"bookInfo"}},{$unwind:"$bookInfo"},{$lookup:{from:"bookcategories",localField:"bookInfo.bookCategoryId",foreignField:"_id",as:"bookCategory"}},{$unwind:{path:"$bookCategory",preserveNullAndEmptyArrays:!0}},{$project:{totalReserved:1,bookInfoId:1,"bookInfo.bookTitle":1,"bookInfo.stock":1,"bookInfo.bookCategoryId":1,"bookInfo.author":1,"bookInfo.ISBN":1,"bookInfo.publisher":1,"bookInfo.publishDate":1,"bookInfo.language":1,"bookInfo.coverImage":1,"bookInfo.note":1,"bookCategory.bookCategoryName":1,remainingStock:{$subtract:["$bookInfo.stock","$totalReserved"]}}},{$match:{remainingStock:{$gt:0}}},{$sort:i({},n.sortBy,"desc"===o.sortOrder?-1:1)},{$skip:a},{$limit:o.pageSize}]);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.getReservedBook=function(){var e=u(s().mark((function e(t,r){var n,o,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 2,n={page:1,pageSize:100,sortBy:"bookInfo.bookTitle",sortOrder:1},o=!r||isNaN(r.page)||isNaN(r.pageSize)||!r.sortBy||!r.sortOrder||r.pageSize<1?n:r,a=(o.page-1)*o.pageSize,e.next=6,f.aggregate([{$lookup:{from:"bookreservations",localField:"bookReservationId",foreignField:"_id",as:"bookReservation"}},{$unwind:"$bookReservation"},{$match:{"bookReservation.reservationStatusNum":1}},{$group:{_id:"$bookInfoId",totalReserved:{$sum:"$quantity"}}},{$lookup:{from:"bookinfos",localField:"_id",foreignField:"_id",as:"bookInfo"}},{$unwind:"$bookInfo"},{$lookup:{from:"bookcategories",localField:"bookInfo.bookCategoryId",foreignField:"_id",as:"bookCategory"}},{$unwind:{path:"$bookCategory",preserveNullAndEmptyArrays:!0}},{$project:{totalReserved:1,bookInfoId:1,"bookInfo.bookTitle":1,"bookInfo.stock":1,"bookInfo.bookCategoryId":1,"bookInfo.author":1,"bookInfo.ISBN":1,"bookInfo.publisher":1,"bookInfo.publishDate":1,"bookInfo.language":1,"bookInfo.coverImage":1,"bookInfo.note":1,"bookCategory.bookCategoryName":1,remainingStock:{$subtract:["$bookInfo.stock","$totalReserved"]}}},{$match:{remainingStock:{$eq:0}}},{$sort:i({},n.sortBy,"desc"===o.sortOrder?-1:1)},{$skip:a},{$limit:o.pageSize}]);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},6287:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){"use strict";o=function(){return t};var e,t={},r=Object.prototype,a=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),s=new A(n||[]);return i(a,"_invoke",{value:O(e,r,s)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function k(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,L=E&&E(E(N([])));L&&L!==r&&a.call(L,c)&&(x=L);var I=k.prototype=b.prototype=Object.create(x);function B(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,i,s,c){var u=p(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==n(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var o;i(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}})}function O(t,r,n){var o=d;return function(a,i){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var u=p(t,r,n);if("normal"===u.type){if(o=n.done?g:y,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=p(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(a.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=k,i(I,"constructor",{value:k,configurable:!0}),i(k,"constructor",{value:w,configurable:!0}),w.displayName=f(k,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,f(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),f(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(h(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),f(I,l,"Generator"),f(I,c,(function(){return this})),f(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function a(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){a(i,n,o,s,c,"next",e)}function c(e){a(i,n,o,s,c,"throw",e)}s(void 0)}))}}var s=r(8109),c=r(1037),u=r(766),l=r(638);t.getEnumTables=function(){var e=i(o().mark((function e(t,r){var n,a,i,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 1,u.checkOperationAccessibilityByRole(t.roleSerial,1,"getEnumTables()"),n=u.getDataAccessibilityRoleFilter(t.roleSerial),e.next=5,c.getEnumTables({enumTableAccessLevel:n},r);case 5:if(a=e.sent,i=a.enumTables,a.totalEnumTable,i&&0!==i.length){e.next=14;break}throw(s=new Error).status=404,s.message="Enum table not found",s.error="Enum table not found or you do not have access to the data",s;case 14:return e.abrupt("return",i);case 15:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.getEnumTableById=function(){var e=i(o().mark((function e(t,r){var n,a,i,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 2,u.checkOperationAccessibilityByRole(t.roleSerial,2,"getEnumTableById()"),l.checkWrongId(r,"enum table"),n=u.getDataAccessibilityRoleFilter(t.roleSerial),e.next=6,c.getEnumTables({enumTableAccessLevel:n,_id:r});case 6:if(a=e.sent,i=a.enumTables,a.totalEnumTable,i&&0!==i.length){e.next=15;break}throw(s=new Error).status=404,s.message="Enum table not found with the provided enum table ID",s.error="Enum table not found by the provided ID (".concat(r,") or you do not have access to the data"),s;case 15:return e.abrupt("return",i);case 16:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.getEnumTablesByIds=function(){var e=i(o().mark((function e(t,r,n){var a,i,s,f,h,p,d,y,v,g,m,b,w,k,x,E;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(10,u.checkOperationAccessibilityByRole(t.roleSerial,10,"deleteBulkEnumTables()"),a=l.separateMongoDbValidAndInvalidIds(r,"enum table IDs"),i=a.validIds,s=a.invalidIds,!((f=a.duplicateIds)&&f.length>0)){e.next=11;break}throw h=f.length>1?"s":"",p=JSON.stringify(f),(d=new Error).status=400,d.message="Duplicate ID".concat(h," found: ").concat(p),d.error="Duplicate ID".concat(h," found: ").concat(p),d;case 11:if(0!==i.length){e.next=18;break}throw y=s.map((function(e){return String(e)})),(v=new Error).status=400,v.message="Invalid enum table ids",v.error="All enum table ids (".concat(y,") are invalid, no enum table found by the provided IDs"),v;case 18:return e.next=20,u.getDataAccessibilityRoleFilter(t.roleSerial);case 20:return g=e.sent,e.next=23,c.getEnumTables({enumTableAccessLevel:g,_id:{$in:i}},n);case 23:if(m=e.sent,b=m.enumTables,m.totalEnumTable,w=[],k=[],i.forEach((function(e){b.some((function(t){return t._id.equals(e)}))?w.push(e):k.push(e)})),b&&0!==b.length){e.next=36;break}throw x=s.concat(k),(E=new Error).status=404,E.message="Enum table not found with the provided enum table IDs",E.error="Enum table not found by the provided IDs (".concat(x,") or you do not have access to the data"),E;case 36:return e.abrupt("return",{enumTables:b,presentIds:w,absentIds:k,invalidIds:s});case 37:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.createEnumTable=function(){var e=i(o().mark((function e(t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 1,u.checkOperationAccessibilityByRole(t.roleSerial,1,"createEnumTable()"),l.checkWrongProperty(r,s.schema.paths,"enum table",[]),l.checkWrongAccessLevel(t,r,"enum table"),e.next=6,c.createEnumTable(r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.createBulkEnumTable=function(){var e=i(o().mark((function e(t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 1,u.checkOperationAccessibilityByRole(t.roleSerial,1,"createBulkEnumTable()"),l.checkWrongPropertyOfList(r,s.schema.paths,"enum table",[]),l.checkWrongAccessLevelOfList(t,r,"enum table"),e.next=6,c.createBulkEnumTable(r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.updateEnumTableById=function(){var e=i(o().mark((function e(t,r,n){var a,i,f,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 2,u.checkOperationAccessibilityByRole(t.roleSerial,2,"updateEnumTableById()"),l.checkWrongId(r,"enum table"),l.checkWrongProperty(n,s.schema.paths,"enum table",[]),a=u.getDataAccessibilityRoleFilter(t.roleSerial),e.next=7,c.getEnumTables({enumTableAccessLevel:a,_id:r});case 7:if(i=e.sent,f=i.enumTables,i.totalEnumTable,f&&0!==f.length){e.next=16;break}throw(h=new Error).status=404,h.message="Enum table not found with the provided enum table ID",h.error="Enum table not found by the provided ID (".concat(r,") or you do not have access to the data"),h;case 16:return e.next=18,c.updateEnumTableById(r,n);case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.updateBulkEnumTables=function(){var e=i(o().mark((function e(t,r){var n,a,i,f,h,p,d,y,v,g,m,b,w,k,x,E;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1,u.checkOperationAccessibilityByRole(t.roleSerial,1,"updateBulkEnumTables()"),l.checkWrongPropertyOfList(r,s.schema.paths,"enum table",[]),n=r.map((function(e){return e._id})),a=l.separateMongoDbValidAndInvalidIds(n,"enum table IDs"),i=a.validIds,f=a.invalidIds,0!==i.length){e.next=12;break}throw h=f.map((function(e){return String(e)})),(p=new Error).status=400,p.message="Invalid enum table ids",p.error="All enum table ids (".concat(h,") are invalid, no enum table found by the provided IDs"),p;case 12:return e.next=14,u.getDataAccessibilityRoleFilter(t.roleSerial);case 14:return d=e.sent,e.next=17,c.getEnumTables({enumTableAccessLevel:d,_id:{$in:i}});case 17:if(y=e.sent,v=y.enumTables,y.totalEnumTable,g=[],m=[],i.forEach((function(e){v.some((function(t){return t._id.equals(e)}))?g.push(e):m.push(e)})),v&&0!==v.length){e.next=30;break}throw b=f.concat(m),(w=new Error).status=404,w.message="Enum table not found with the provided enum table IDs",w.error="Enum table not found by the provided IDs (".concat(b,") or you do not have access to the data"),w;case 30:return k=r.filter((function(e){return g.includes(e._id)})),e.next=33,s.generateBulkUpdateOperations(k);case 33:return x=e.sent,e.next=36,c.updateBulkEnumTables(x);case 36:return E=e.sent,e.abrupt("return",{enumTable:E,presentIds:g,absentIds:m,invalidIds:f});case 38:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.deleteEnumTableById=function(){var e=i(o().mark((function e(t,r){var n,a,i,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 2,u.checkOperationAccessibilityByRole(t.roleSerial,2,"deleteEnumTableById()"),l.checkWrongId(r,"enum table"),n=u.getDataAccessibilityRoleFilter(t.roleSerial),e.next=6,c.getEnumTables({enumTableAccessLevel:n,_id:r});case 6:if(a=e.sent,i=a.enumTables,a.totalEnumTable,i&&0!==i.length){e.next=15;break}throw(s=new Error).status=404,s.message="Enum table not found with the provided enum table ID",s.error="Enum table not found by the provided ID (".concat(r,") or you do not have access to the data"),s;case 15:return e.next=17,c.deleteEnumTableById(i[0]._id);case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.deleteBulkEnumTables=function(){var e=i(o().mark((function e(t,r){var n,a,i,f,h,p,d,y,v,g,m,b,w,k,x,E,L,I;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1,u.checkOperationAccessibilityByRole(t.roleSerial,1,"deleteBulkEnumTables()"),n=l.separateMongoDbValidAndInvalidIds(r,"enum table IDs"),a=n.validIds,i=n.invalidIds,!((f=n.duplicateIds)&&f.length>0)){e.next=11;break}throw h=f.length>1?"s":"",p=JSON.stringify(f),(d=new Error).status=400,d.message="Duplicate ID".concat(h," found: ").concat(p),d.error="Duplicate ID".concat(h," found: ").concat(p),d;case 11:if(0!==a.length){e.next=18;break}throw y=i.map((function(e){return String(e)})),(v=new Error).status=400,v.message="Invalid enum table IDs",v.error="All enum table ids (".concat(y,") are invalid, no enum table found by the provided IDs"),v;case 18:return e.next=20,u.getDataAccessibilityRoleFilter(t.roleSerial);case 20:return g=e.sent,e.next=23,c.getEnumTables({enumTableAccessLevel:g,_id:{$in:a}});case 23:if(m=e.sent,b=m.enumTables,m.totalEnumTable,w=[],k=[],a.forEach((function(e){b.some((function(t){return t._id.equals(e)}))?w.push(e):k.push(e)})),b&&0!==b.length){e.next=36;break}throw x=i.concat(k),(E=new Error).status=404,E.message="Enum table not found with the provided enum table IDs",E.error="Enum table not found with the provided enum table IDs (".concat(x,") or you do not have access to the data"),E;case 36:return e.next=38,s.generateBulkDeleteOperations(b);case 38:return L=e.sent,e.next=41,c.deleteBulkEnumTable(L);case 41:return I=e.sent,e.abrupt("return",{enumTable:I,presentIds:w,absentIds:k,invalidIds:i});case 43:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.searchEnumTable=function(){var e=i(o().mark((function e(t,r,n){var a,i,f,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 10,u.checkOperationAccessibilityByRole(t.roleSerial,10,"searchEnumTable()"),l.checkWrongProperty(r,s.schema.paths,"enum table",[]),e.next=5,s.generateSearchOperations(t.roleSerial,r);case 5:return a=e.sent,e.next=8,c.getEnumTables(a,n);case 8:if(i=e.sent,f=i.enumTables,i.totalEnumTable,f&&0!==f.length){e.next=17;break}throw(h=new Error).status=404,h.message="Enum table not found",h.error="Enum table not found with the provided search criteria or you do not have access to the data",h;case 17:return e.abrupt("return",f);case 18:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},8817:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=["password"],a=["password"],i=["password"];function s(){"use strict";s=function(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),s=new A(n||[]);return a(i,"_invoke",{value:O(e,r,s)}),i}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function k(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,L=E&&E(E(N([])));L&&L!==r&&o.call(L,c)&&(x=L);var I=k.prototype=b.prototype=Object.create(x);function B(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(a,i,s,c){var u=p(e[a],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==n(f)&&o.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var i;a(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function O(t,r,n){var o=d;return function(a,i){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var u=p(t,r,n);if("normal"===u.type){if(o=n.done?g:y,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=p(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(o.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=k,a(I,"constructor",{value:k,configurable:!0}),a(k,"constructor",{value:w,configurable:!0}),w.displayName=f(k,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,f(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),f(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(h(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),f(I,l,"Generator"),f(I,c,(function(){return this})),f(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function c(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function u(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){u(a,n,o,i,s,"next",e)}function s(e){u(a,n,o,i,s,"throw",e)}i(void 0)}))}}var f=r(2493),h=r(5403),p=r(766),d=r(638);t.getUsers=function(){var e=l(s().mark((function e(t,r){var n,a,i,u,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 1,p.checkOperationAccessibilityByRole(t.roleSerial,1,"getUsers()"),n=p.getDataAccessibilityRoleFilter(t.roleSerial),e.next=5,h.getUsers({roleSerial:n},r);case 5:if(a=e.sent,i=a.users,a.totalUser,i&&0!==i.length){e.next=14;break}throw(u=new Error).status=404,u.message="User not found",u.error="User not found or you do not have access to the data",u;case 14:return l=i.map((function(e){var t=e.toObject();t.password;return c(t,o)})),e.abrupt("return",l);case 16:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.getUserById=function(){var e=l(s().mark((function e(t,r){var n,o,i,u,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 2,p.checkOperationAccessibilityByRole(t.roleSerial,2,"getUserById()"),d.checkWrongId(r,"user"),n=p.getDataAccessibilityRoleFilter(t.roleSerial),e.next=6,h.getUsers({roleSerial:n,_id:r});case 6:if(o=e.sent,i=o.users,o.totalUser,i&&0!==i.length){e.next=15;break}throw(u=new Error).status=404,u.message="user not found with the provided user ID",u.error="user not found by the provided ID (".concat(r,") or you do not have access to the data"),u;case 15:return l=i.map((function(e){var t=e.toObject();t.password;return c(t,a)})),e.abrupt("return",l);case 17:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.getUsersByIds=function(){var e=l(s().mark((function e(t,r,n){var o,a,i,c,u,l,f,y,v,g,m,b,w,k,x,E;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(10,p.checkOperationAccessibilityByRole(t.roleSerial,10,"deleteBulkUsers()"),o=d.separateMongoDbValidAndInvalidIds(r,"user IDs"),a=o.validIds,i=o.invalidIds,!((c=o.duplicateIds)&&c.length>0)){e.next=11;break}throw u=c.length>1?"s":"",l=JSON.stringify(c),(f=new Error).status=400,f.message="Duplicate ID".concat(u," found: ").concat(l),f.error="Duplicate ID".concat(u," found: ").concat(l),f;case 11:if(0!==a.length){e.next=18;break}throw y=i.map((function(e){return String(e)})),(v=new Error).status=400,v.message="Invalid user ids",v.error="All user ids (".concat(y,") are invalid, no user found by the provided IDs"),v;case 18:return e.next=20,p.getDataAccessibilityRoleFilter(t.roleSerial);case 20:return g=e.sent,e.next=23,h.getUsers({userAccessLevel:g,_id:{$in:a}},n);case 23:if(m=e.sent,b=m.users,m.totalUser,w=[],k=[],a.forEach((function(e){b.some((function(t){return t._id.equals(e)}))?w.push(e):k.push(e)})),b&&0!==b.length){e.next=36;break}throw x=i.concat(k),(E=new Error).status=404,E.message="User not found with the provided user IDs",E.error="User not found by the provided IDs (".concat(x,") or you do not have access to the data"),E;case 36:return e.abrupt("return",{users:b,presentIds:w,absentIds:k,invalidIds:i,duplicateIds:c});case 37:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.createUser=function(){var e=l(s().mark((function e(t,r){var n,o,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 1,p.checkOperationAccessibilityByRole(t.roleSerial,1,"createUser()"),d.checkWrongProperty(r,f.schema.paths,"user",[]),d.checkWrongAccessLevel(t,r,"user"),e.next=6,h.createUser(r);case 6:return n=e.sent,o=n.toObject(),o.password,a=c(o,i),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.createBulkUser=function(){var e=l(s().mark((function e(t,r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 1,p.checkOperationAccessibilityByRole(t.roleSerial,1,"createBulkUser()"),d.checkWrongPropertyOfList(r,f.schema.paths,"user",[]),d.checkWrongAccessLevelOfList(t,r,"user"),e.next=6,h.createBulkUser(r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.updateUserById=function(){var e=l(s().mark((function e(t,r,n){var o,a,i,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 2,p.checkOperationAccessibilityByRole(t.roleSerial,2,"updateUserById()"),d.checkWrongId(r,"user"),d.checkWrongProperty(n,f.schema.paths,"user",[]),o=p.getDataAccessibilityRoleFilter(t.roleSerial),e.next=7,h.getUsers({roleSerial:o,_id:r});case 7:if(a=e.sent,i=a.users,a.totalUser,i&&0!==i.length){e.next=16;break}throw(c=new Error).status=404,c.message="User not found with the provided user ID",c.error="User not found by the provided ID (".concat(r,") or you do not have access to the data"),c;case 16:return e.next=18,h.updateUserById(r,n);case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.updateBulkUsers=function(){var e=l(s().mark((function e(t,r){var n,o,a,i,c,u,l,y,v,g,m,b,w,k,x,E;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1,p.checkOperationAccessibilityByRole(t.roleSerial,1,"updateBulkUsers()"),d.checkWrongPropertyOfList(r,f.schema.paths,"user",[]),n=r.map((function(e){return e._id})),o=d.separateMongoDbValidAndInvalidIds(n,"user IDs"),a=o.validIds,i=o.invalidIds,0!==a.length){e.next=12;break}throw c=i.map((function(e){return String(e)})),(u=new Error).status=400,u.message="Invalid user ids",u.error="All user ids (".concat(c,") are invalid, no user found by the provided IDs"),u;case 12:return e.next=14,p.getDataAccessibilityRoleFilter(t.roleSerial);case 14:return l=e.sent,e.next=17,h.getUsers({userAccessLevel:l,_id:{$in:a}});case 17:if(y=e.sent,v=y.users,y.totalUser,g=[],m=[],a.forEach((function(e){v.some((function(t){return t._id.equals(e)}))?g.push(e):m.push(e)})),v&&0!==v.length){e.next=30;break}throw b=i.concat(m),(w=new Error).status=404,w.message="User not found with the provided user IDs",w.error="User not found by the provided IDs (".concat(b,") or you do not have access to the data"),w;case 30:return k=r.filter((function(e){return g.includes(e._id)})),e.next=33,f.generateBulkUpdateOperations(k);case 33:return x=e.sent,e.next=36,h.updateBulkUsers(x);case 36:return E=e.sent,e.abrupt("return",{user:E,presentIds:g,absentIds:m,invalidIds:i});case 38:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.deleteUserById=function(){var e=l(s().mark((function e(t,r){var n,o,a,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 2,p.checkOperationAccessibilityByRole(t.roleSerial,2,"deleteUserById()"),d.checkWrongId(r,"user"),n=p.getDataAccessibilityRoleFilter(t.roleSerial),e.next=6,h.getUsers({roleSerial:n,_id:r});case 6:if(o=e.sent,a=o.users,o.totalUser,a&&0!==a.length){e.next=15;break}throw(i=new Error).status=404,i.message="User not found with the provided user ID",i.error="User not found by the provided ID (".concat(r,") or you do not have access to the data"),i;case 15:return e.next=17,h.deleteUserById(a[0]._id);case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.deleteBulkUsers=function(){var e=l(s().mark((function e(t,r){var n,o,a,i,c,u,l,y,v,g,m,b,w,k,x,E,L,I;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1,p.checkOperationAccessibilityByRole(t.roleSerial,1,"deleteBulkUsers()"),n=d.separateMongoDbValidAndInvalidIds(r,"user IDs"),o=n.validIds,a=n.invalidIds,!((i=n.duplicateIds)&&i.length>0)){e.next=11;break}throw c=i.length>1?"s":"",u=JSON.stringify(i),(l=new Error).status=400,l.message="Duplicate ID".concat(c," found: ").concat(u),l.error="Duplicate ID".concat(c," found: ").concat(u),l;case 11:if(0!==o.length){e.next=18;break}throw y=a.map((function(e){return String(e)})),(v=new Error).status=400,v.message="Invalid user IDs",v.error="All user ids (".concat(y,") are invalid, no user found by the provided IDs"),v;case 18:return e.next=20,p.getDataAccessibilityRoleFilter(t.roleSerial);case 20:return g=e.sent,e.next=23,h.getUsers({userAccessLevel:g,_id:{$in:o}});case 23:if(m=e.sent,b=m.users,m.totalUser,w=[],k=[],o.forEach((function(e){b.some((function(t){return t._id.equals(e)}))?w.push(e):k.push(e)})),b&&0!==b.length){e.next=36;break}throw x=a.concat(k),(E=new Error).status=404,E.message="User not found with the provided user IDs",E.error="User not found with the provided user IDs (".concat(x,") or you do not have access to the data"),E;case 36:return e.next=38,f.generateBulkDeleteOperations(b);case 38:return L=e.sent,e.next=41,h.deleteBulkUser(L);case 41:return I=e.sent,e.abrupt("return",{user:I,presentIds:w,absentIds:k,invalidIds:a,duplicateIds:i});case 43:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.searchUser=function(){var e=l(s().mark((function e(t,r,n){var o,a,i,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 2,p.checkOperationAccessibilityByRole(t.roleSerial,2,"createBookReservation()"),d.checkWrongProperty(r,f.schema.paths,"user",[]),d.checkWrongAccessLevel(t,r,"user"),e.next=6,f.generateSearchOperations(t.roleSerial,r);case 6:return o=e.sent,e.next=9,h.getUsers(o,n);case 9:if(a=e.sent,i=a.users,a.totalUser,i&&0!==i.length){e.next=18;break}throw(c=new Error).status=404,c.message="User not found",c.error="User not found with the provided search criteria or you do not have access to the data",c;case 18:return e.abrupt("return",i);case 19:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.registerUser=function(){var e=l(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.role="user",e.next=3,h.createUser(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.getAndUpdateOrCreateUserBasedOnEmail=function(){var e=l(s().mark((function e(t,r){var n,o,a,i,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 2,p.checkOperationAccessibilityByRole(t.roleSerial,2,"createUser()"),d.checkWrongProperty(r,f.schema.paths,"user",[]),d.checkWrongAccessLevel(t,r,"user"),n=p.getDataAccessibilityRoleFilter(t.roleSerial),e.next=7,h.getUsers({roleSerial:n,email:r.email});case 7:if(o=e.sent,a=o.users,o.totalUser,a&&0!==a.length){e.next=17;break}return r.roleSerial=10,r.password="12345",e.next=15,h.createUser(r);case 15:return i=e.sent,e.abrupt("return",i);case 17:return e.next=19,h.updateUserById(a[0]._id,r);case 19:return c=e.sent,e.abrupt("return",c);case 21:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},7433:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){"use strict";o=function(){return t};var e,t={},r=Object.prototype,a=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),s=new A(n||[]);return i(a,"_invoke",{value:O(e,r,s)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function k(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,L=E&&E(E(N([])));L&&L!==r&&a.call(L,c)&&(x=L);var I=k.prototype=b.prototype=Object.create(x);function B(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,i,s,c){var u=p(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==n(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var o;i(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}})}function O(t,r,n){var o=d;return function(a,i){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var u=p(t,r,n);if("normal"===u.type){if(o=n.done?g:y,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=p(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(a.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=k,i(I,"constructor",{value:k,configurable:!0}),i(k,"constructor",{value:w,configurable:!0}),w.displayName=f(k,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,f(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),f(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(h(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),f(I,l,"Generator"),f(I,c,(function(){return this})),f(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function a(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){a(i,n,o,s,c,"next",e)}function c(e){a(i,n,o,s,c,"throw",e)}s(void 0)}))}}var s=r(9921),c=r(9963),u=r(766),l=r(638);t.getUserRoles=function(){var e=i(o().mark((function e(t){var r,n,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=1,e.next=3,u.checkOperationAccessibility(t,r);case 3:return n=e.sent,e.next=6,s.generateSearchOperations(n.role,r);case 6:return a=e.sent,i={userRoleAccessLevel:a},e.next=10,c.getUserRoles(i);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.getUserRoleById=function(){var e=i(o().mark((function e(t,r){var n,a,i,f,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.checkOperationAccessibility(t,2);case 2:return n=e.sent,l.checkMongoDbIdType(r),e.next=6,s.getDataAccessibilityRoleFilter(n.role);case 6:return a=e.sent,i={userRoleAccessLevel:a,_id:r},e.next=10,c.getUserRoles(i);case 10:if(f=e.sent){e.next=15;break}throw(h=new Error("UserRole not found")).status=404,h;case 15:return e.abrupt("return",f);case 16:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.getUserRolesByIds=function(){var e=i(o().mark((function e(t,r){var n,a,i,f,h,p,d,y,v,g,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.checkOperationAccessibility(t,1);case 2:if(n=e.sent,a=l.separateMongoDbValidAndInvalidIds(r),i=a.validIds,f=a.invalidIds,0!==i.length){e.next=8;break}throw(h=new Error("Invalid user ids")).status=500,h;case 8:return e.next=10,s.getDataAccessibilityRoleFilter(n.role);case 10:return p=e.sent,d={userRoleAccessLevel:p,_id:{$in:i}},e.next=14,c.getUserRoles(d);case 14:if(y=e.sent,v=[],g=[],i.forEach((function(e){y.some((function(t){return t._id.equals(e)}))?v.push(e):g.push(e)})),y&&0!==y.length){e.next=22;break}throw(m=new Error("User role(s) not found")).status=500,m;case 22:return e.abrupt("return",{users:y,presentIds:v,absentIds:g,invalidIds:f});case 23:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.createUserRole=function(){var e=i(o().mark((function e(t,r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.checkOperationAccessibility(t,1);case 2:if(r){e.next=6;break}throw(n=new Error("Please provide a valid userRole")).status=400,n;case 6:return e.next=8,c.createUserRole(r);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.createBulkUserRole=function(){var e=i(o().mark((function e(t,r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.checkOperationAccessibility(t,1);case 2:if(r&&r.length){e.next=6;break}throw(n=new Error("Please provide a valid userRoles")).status=400,n;case 6:return e.next=8,c.createBulkUserRole(user);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.updateUserRoleById=function(){var e=i(o().mark((function e(t,r,n){var a,i,f,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.checkOperationAccessibility(t,2);case 2:return a=e.sent,l.checkMongoDbIdType(r),e.next=6,s.getDataAccessibilityRoleFilter(a.role);case 6:return i=e.sent,f={userRoleAccessLevel:i},e.next=10,c.getUserRoles({filter:f,_id:r});case 10:if(e.sent){e.next=15;break}throw(h=new Error("UserRole not found")).status=404,h;case 15:return e.next=17,c.updateUserRoleById(r,n);case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.updateBulkUserRoles=function(){var e=i(o().mark((function e(t,r){var n,a,i,f,h,p,d,y,v,g,m,b,w,k,x;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.checkOperationAccessibility(t,1);case 2:if(n=e.sent,r){e.next=7;break}throw(a=new Error("Please provide valid userRoles")).status=400,a;case 7:if(i=r.map((function(e){return e._id})),f=l.separateMongoDbValidAndInvalidIds(i),h=f.validIds,p=f.invalidIds,0!==h.length){e.next=13;break}throw(d=new Error("Invalid user ids")).status=500,d;case 13:return e.next=15,s.getDataAccessibilityRoleFilter(n.role);case 15:return y=e.sent,v={userRoleAccessLevel:y,_id:{$in:h}},e.next=19,c.getUserRoles(v);case 19:if(g=e.sent,m=[],b=[],h.forEach((function(e){g.some((function(t){return t._id.equals(e)}))?m.push(e):b.push(e)})),g&&0!==g.length){e.next=27;break}throw(w=new Error("User role(s) not found")).status=500,w;case 27:return e.next=29,s.generateBulkUpdateOperations(g);case 29:return k=e.sent,e.next=32,c.updateBulkUserRoles(k);case 32:return x=e.sent,e.abrupt("return",{users:x,presentIds:m,absentIds:b,invalidIds:p});case 34:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.deleteUserRoleById=function(){var e=i(o().mark((function e(t,r){var n,a,i,f,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.checkOperationAccessibility(t,2);case 2:return n=e.sent,l.checkMongoDbIdType(r),e.next=6,s.getDataAccessibilityRoleFilter(n.role);case 6:return a=e.sent,i={userRoleAccessLevel:a},e.next=10,c.getUserRoles({filter:i,_id:r});case 10:if(f=e.sent){e.next=15;break}throw(h=new Error("UserRole not found")).status=404,h;case 15:return e.next=17,c.deleteUserRole(f._id);case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.deleteBulkUserRoles=function(){var e=i(o().mark((function e(t,r){var n,a,i,f,h,p,d,y,v,g,m,b,w;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.checkOperationAccessibility(t,1);case 2:if(n=e.sent,a=l.separateMongoDbValidAndInvalidIds(r),i=a.validIds,f=a.invalidIds,0!==i.length){e.next=8;break}throw(h=new Error("Invalid user ids")).status=400,h;case 8:return e.next=10,s.getDataAccessibilityRoleFilter(n.role);case 10:return p=e.sent,d={userRoleAccessLevel:p,_id:{$in:i}},e.next=14,c.getUserRoles(d);case 14:if(y=e.sent,v=[],g=[],i.forEach((function(e){y.some((function(t){return t._id.equals(e)}))?v.push(e):g.push(e)})),y&&0!==y.length){e.next=22;break}throw(m=new Error("User role(s) not found")).status=500,m;case 22:return e.next=24,s.generateBulkDeleteOperations(y);case 24:return b=e.sent,e.next=27,c.deleteBulkUserRole(b);case 27:return w=e.sent,e.abrupt("return",{users:w,presentIds:v,absentIds:g,invalidIds:f});case 29:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.searchUserRole=function(){var e=i(o().mark((function e(t,r){var n,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.checkOperationAccessibility(t,2);case 2:return n=e.sent,e.next=5,s.generateSearchOperations(r,n.role);case 5:return a=e.sent,e.next=8,c.searchUserRole(a);case 8:return i=e.sent,e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},3555:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){"use strict";o=function(){return t};var e,t={},r=Object.prototype,a=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),s=new A(n||[]);return i(a,"_invoke",{value:O(e,r,s)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function k(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,L=E&&E(E(N([])));L&&L!==r&&a.call(L,c)&&(x=L);var I=k.prototype=b.prototype=Object.create(x);function B(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,i,s,c){var u=p(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==n(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var o;i(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}})}function O(t,r,n){var o=d;return function(a,i){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var u=p(t,r,n);if("normal"===u.type){if(o=n.done?g:y,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=p(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(a.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=k,i(I,"constructor",{value:k,configurable:!0}),i(k,"constructor",{value:w,configurable:!0}),w.displayName=f(k,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,f(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),f(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(h(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),f(I,l,"Generator"),f(I,c,(function(){return this})),f(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function a(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){a(i,n,o,s,c,"next",e)}function c(e){a(i,n,o,s,c,"throw",e)}s(void 0)}))}}var s=r(3015),c=r(9596),u=r(3415),l=function(){var e=i(o().mark((function e(t,r){var n,a,i,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t.cookies.jwt);case 3:return n=e.sent,a={page:parseInt(t.query.page),pageSize:parseInt(t.query.pageSize),sortBy:t.query.sortBy,sortOrder:t.query.sortOrder},e.next=7,s.getBookCategories(n,a);case 7:return i=e.sent,e.abrupt("return",r.status(200).send({success:!0,message:"Book categories retrieved successfully",bookCategories:i}));case 11:return e.prev=11,e.t0=e.catch(0),f=c(e.t0.message,e.t0),e.abrupt("return",r.status(null!==(l=f.status)&&void 0!==l?l:500).send({success:!1,message:f.message,error:f.error}));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),f=function(){var e=i(o().mark((function e(t,r){var n,a,i,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t.cookies.jwt);case 3:return n=e.sent,a=t.params.id,e.next=7,s.getBookCategoryById(n,a);case 7:i=e.sent,r.status(200).send({success:!0,message:"Book category retrieved successfully",bookCategory:i}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),f=c(e.t0.message,e.t0),r.status(null!==(l=f.status)&&void 0!==l?l:500).send({success:!1,message:f.message,error:f.error});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),h=function(){var e=i(o().mark((function e(t,r){var n,a,i,l,f,h,p,d,y,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t.cookies.jwt);case 3:return n=e.sent,a=t.body,i={page:parseInt(t.query.page),pageSize:parseInt(t.query.pageSize),sortBy:t.query.sortBy,sortOrder:t.query.sortOrder},e.next=8,s.getBookCategoriesByIds(n,a,i);case 8:return l=e.sent,f=l.bookCategories,h=l.presentIds,p=l.absentIds,d=l.invalidIds,e.abrupt("return",r.status(200).send({success:!0,message:"BookCategories retrieved successfully",bookCategories:f,presentIds:h,absentIds:p,invalidIds:d}));case 16:return e.prev=16,e.t0=e.catch(0),v=c(e.t0.message,e.t0),e.abrupt("return",r.status(null!==(y=v.status)&&void 0!==y?y:500).send({success:!1,message:v.message,error:v.error}));case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,r){return e.apply(this,arguments)}}(),p=function(){var e=i(o().mark((function e(t,r){var n,a,i,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t.cookies.jwt);case 3:return n=e.sent,a=t.body,e.next=7,s.createBookCategory(n,a);case 7:i=e.sent,r.status(201).send({success:!0,message:"New book category created successfully",createdBookCategory:i}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),f=c(e.t0.message,e.t0),r.status(null!==(l=f.status)&&void 0!==l?l:500).send({success:!1,message:f.message,error:f.error});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),d=function(){var e=i(o().mark((function e(t,r){var n,a,i,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t.cookies.jwt);case 3:return n=e.sent,a=t.body,e.next=7,s.createBulkBookCategory(n,a);case 7:i=e.sent,r.status(201).send({success:!0,message:"New book category created successfully",bookCategories:i}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),f=c(e.t0.message,e.t0),r.status(null!==(l=f.status)&&void 0!==l?l:500).send({success:!1,message:f.message,error:f.error});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),y=function(){var e=i(o().mark((function e(t,r){var n,a,i,l,f,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t.cookies.jwt);case 3:return n=e.sent,a=t.params.id,i=t.body,e.next=8,s.updateBookCategoryById(n,a,i);case 8:l=e.sent,r.status(200).send({success:!0,message:"Book category updated successfully",bookCategory:l}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),h=c(e.t0.message,e.t0),r.status(null!==(f=h.status)&&void 0!==f?f:500).send({success:!1,message:h.message,error:h.error});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}(),v=function(){var e=i(o().mark((function e(t,r){var n,a,i,l,f,h,p,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t.cookies.jwt);case 3:return n=e.sent,a=t.body,e.next=7,s.updateBulkBookCategories(n,a);case 7:i=e.sent,i.bookCategory,l=i.presentIds,f=i.absentIds,h=i.invalidIds,r.status(200).send({success:!0,message:"Book category updated successfully",updatedIds:l,absentIds:f,invalidIds:h}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),d=c(e.t0.message,e.t0),r.status(null!==(p=d.status)&&void 0!==p?p:500).send({success:!1,message:d.message,error:d.error});case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,r){return e.apply(this,arguments)}}(),g=function(){var e=i(o().mark((function e(t,r){var n,a,i,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t.cookies.jwt);case 3:return n=e.sent,a=t.params.id,e.next=7,s.deleteBookCategoryById(n,a);case 7:i=e.sent,r.status(200).send({success:!0,message:"Book category deleted successfully",bookCategory:i}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),f=c(e.t0.message,e.t0),r.status(null!==(l=f.status)&&void 0!==l?l:500).send({success:!1,message:f.message,error:f.error});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),m=function(){var e=i(o().mark((function e(t,r){var n,a,i,l,f,h,p,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t.cookies.jwt);case 3:return n=e.sent,a=t.body,e.next=7,s.deleteBulkBookCategories(n,a);case 7:i=e.sent,i.bookCategory,l=i.presentIds,f=i.absentIds,h=i.invalidIds,r.status(200).send({success:!0,message:"Book category deleted successfully",deletedIds:l,absentIds:f,invalidIds:h}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),d=c(e.t0.message,e.t0),r.status(null!==(p=d.status)&&void 0!==p?p:500).send({success:!1,message:d.message,error:d.error});case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,r){return e.apply(this,arguments)}}(),b=function(){var e=i(o().mark((function e(t,r){var n,a,i,l,f,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t.cookies.jwt);case 3:return n=e.sent,a=t.body,i={page:parseInt(t.query.page),pageSize:parseInt(t.query.pageSize),sortBy:t.query.sortBy,sortOrder:t.query.sortOrder},e.next=8,s.searchBookCategory(n,a,i);case 8:l=e.sent,r.status(200).send({success:!0,message:"Book categories retrieved successfully based on the search criteria",bookCategories:l}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),h=c(e.t0.message,e.t0),r.status(null!==(f=h.status)&&void 0!==f?f:500).send({success:!1,message:h.message,error:h.error});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}();e.exports={getBookCategoriesController:l,getBookCategoryByIdController:f,getBookCategoriesByIdsController:h,createBookCategoryController:p,createBulkBookCategoryController:d,updateBookCategoryByIdController:y,updateBalkBookCategoryController:v,deleteBookCategoryByIdController:g,deleteBulkBookCategoryController:m,searchBookCategoryController:b}},887:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){"use strict";o=function(){return t};var e,t={},r=Object.prototype,a=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),s=new A(n||[]);return i(a,"_invoke",{value:O(e,r,s)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function k(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,L=E&&E(E(N([])));L&&L!==r&&a.call(L,c)&&(x=L);var I=k.prototype=b.prototype=Object.create(x);function B(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,i,s,c){var u=p(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==n(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var o;i(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}})}function O(t,r,n){var o=d;return function(a,i){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var u=p(t,r,n);if("normal"===u.type){if(o=n.done?g:y,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=p(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(a.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=k,i(I,"constructor",{value:k,configurable:!0}),i(k,"constructor",{value:w,configurable:!0}),w.displayName=f(k,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,f(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),f(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(h(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),f(I,l,"Generator"),f(I,c,(function(){return this})),f(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function a(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){a(i,n,o,s,c,"next",e)}function c(e){a(i,n,o,s,c,"throw",e)}s(void 0)}))}}var s=r(1287),c=r(9596),u=r(3415),l=function(){var e=i(o().mark((function e(t,r){var n,a,i,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t.cookies.jwt);case 3:return n=e.sent,a={page:parseInt(t.query.page),pageSize:parseInt(t.query.pageSize),sortBy:t.query.sortBy,sortOrder:t.query.sortOrder},e.next=7,s.getBookInfos(n,a);case 7:return i=e.sent,e.abrupt("return",r.status(200).send({success:!0,message:"Book infos retrieved successfully",bookInfos:i}));case 11:return e.prev=11,e.t0=e.catch(0),f=c(e.t0.message,e.t0),e.abrupt("return",r.status(null!==(l=f.status)&&void 0!==l?l:500).send({success:!1,message:f.message,error:f.error}));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),f=function(){var e=i(o().mark((function e(t,r){var n,a,i,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t.cookies.jwt);case 3:return n=e.sent,a=t.params.id,e.next=7,s.getBookInfoById(n,a);case 7:i=e.sent,r.status(200).send({success:!0,message:"Book info retrieved successfully",bookInfo:i}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),f=c(e.t0.message,e.t0),r.status(null!==(l=f.status)&&void 0!==l?l:500).send({success:!1,message:f.message,error:f.error});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),h=function(){var e=i(o().mark((function e(t,r){var n,a,i,l,f,h,p,d,y,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t.cookies.jwt);case 3:return n=e.sent,a=t.body,i={page:parseInt(t.query.page),pageSize:parseInt(t.query.pageSize),sortBy:t.query.sortBy,sortOrder:t.query.sortOrder},e.next=8,s.getBookInfosByIds(n,a,i);case 8:return l=e.sent,f=l.bookInfos,h=l.presentIds,p=l.absentIds,d=l.invalidIds,e.abrupt("return",r.status(200).send({success:!0,message:"BookInfos retrieved successfully",bookInfos:f,presentIds:h,absentIds:p,invalidIds:d}));case 16:return e.prev=16,e.t0=e.catch(0),v=c(e.t0.message,e.t0),e.abrupt("return",r.status(null!==(y=v.status)&&void 0!==y?y:500).send({success:!1,message:v.message,error:v.error}));case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,r){return e.apply(this,arguments)}}(),p=function(){var e=i(o().mark((function e(t,r){var n,a,i,l,f,h,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t.cookies.jwt);case 3:return n=e.sent,(a=t.body).coverImage="",t.file&&(i=t.file,l=i.filename,i.path,i.originalname,a.coverImage=l),e.next=9,s.createBookInfo(n,a);case 9:f=e.sent,r.status(201).send({success:!0,message:"New book info created successfully",createdBookInfo:f}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),p=c(e.t0.message,e.t0),r.status(null!==(h=p.status)&&void 0!==h?h:500).send({success:!1,message:p.message,error:p.error});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,r){return e.apply(this,arguments)}}(),d=function(){var e=i(o().mark((function e(t,r){var n,a,i,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t.cookies.jwt);case 3:return n=e.sent,a=t.body,e.next=7,s.createBulkBookInfo(n,a);case 7:i=e.sent,r.status(201).send({success:!0,message:"New book info created successfully",bookInfos:i}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),f=c(e.t0.message,e.t0),r.status(null!==(l=f.status)&&void 0!==l?l:500).send({success:!1,message:f.message,error:f.error});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),y=function(){var e=i(o().mark((function e(t,r){var n,a,i,l,f,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t.cookies.jwt);case 3:return n=e.sent,a=t.params.id,i=t.body,e.next=8,s.updateBookInfoById(n,a,i);case 8:l=e.sent,r.status(200).send({success:!0,message:"Book info updated successfully",bookInfo:l}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),h=c(e.t0.message,e.t0),r.status(null!==(f=h.status)&&void 0!==f?f:500).send({success:!1,message:h.message,error:h.error});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}(),v=function(){var e=i(o().mark((function e(t,r){var n,a,i,l,f,h,p,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t.cookies.jwt);case 3:return n=e.sent,a=t.body,e.next=7,s.updateBulkBookInfos(n,a);case 7:i=e.sent,i.bookInfo,l=i.presentIds,f=i.absentIds,h=i.invalidIds,r.status(200).send({success:!0,message:"Book info updated successfully",updatedIds:l,absentIds:f,invalidIds:h}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),d=c(e.t0.message,e.t0),r.status(null!==(p=d.status)&&void 0!==p?p:500).send({success:!1,message:d.message,error:d.error});case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,r){return e.apply(this,arguments)}}(),g=function(){var e=i(o().mark((function e(t,r){var n,a,i,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t.cookies.jwt);case 3:return n=e.sent,a=t.params.id,e.next=7,s.deleteBookInfoById(n,a);case 7:i=e.sent,r.status(200).send({success:!0,message:"Book info deleted successfully",bookInfo:i}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),f=c(e.t0.message,e.t0),r.status(null!==(l=f.status)&&void 0!==l?l:500).send({success:!1,message:f.message,error:f.error});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),m=function(){var e=i(o().mark((function e(t,r){var n,a,i,l,f,h,p,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t.cookies.jwt);case 3:return n=e.sent,a=t.body,e.next=7,s.deleteBulkBookInfos(n,a);case 7:i=e.sent,i.bookInfo,l=i.presentIds,f=i.absentIds,h=i.invalidIds,r.status(200).send({success:!0,message:"Book info deleted successfully",deletedIds:l,absentIds:f,invalidIds:h}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),d=c(e.t0.message,e.t0),r.status(null!==(p=d.status)&&void 0!==p?p:500).send({success:!1,message:d.message,error:d.error});case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,r){return e.apply(this,arguments)}}(),b=function(){var e=i(o().mark((function e(t,r){var n,a,i,l,f,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t.cookies.jwt);case 3:return n=e.sent,a=t.body,i={page:parseInt(t.query.page),pageSize:parseInt(t.query.pageSize),sortBy:t.query.sortBy,sortOrder:t.query.sortOrder},e.next=8,s.searchBookInfo(n,a,i);case 8:l=e.sent,r.status(200).send({success:!0,message:"Book infos retrieved successfully based on the search criteria",bookInfos:l}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),h=c(e.t0.message,e.t0),r.status(null!==(f=h.status)&&void 0!==f?f:500).send({success:!1,message:h.message,error:h.error});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}();e.exports={getBookInfosController:l,getBookInfoByIdController:f,getBookInfosByIdsController:h,createBookInfoController:p,createBulkBookInfoController:d,updateBookInfoByIdController:y,updateBalkBookInfoController:v,deleteBookInfoByIdController:g,deleteBulkBookInfoController:m,searchBookInfoController:b}},2693:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){"use strict";o=function(){return t};var e,t={},r=Object.prototype,a=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),s=new A(n||[]);return i(a,"_invoke",{value:O(e,r,s)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function k(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,L=E&&E(E(N([])));L&&L!==r&&a.call(L,c)&&(x=L);var I=k.prototype=b.prototype=Object.create(x);function B(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,i,s,c){var u=p(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==n(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var o;i(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}})}function O(t,r,n){var o=d;return function(a,i){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var u=p(t,r,n);if("normal"===u.type){if(o=n.done?g:y,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=p(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(a.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=k,i(I,"constructor",{value:k,configurable:!0}),i(k,"constructor",{value:w,configurable:!0}),w.displayName=f(k,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,f(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),f(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(h(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),f(I,l,"Generator"),f(I,c,(function(){return this})),f(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function a(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){a(i,n,o,s,c,"next",e)}function c(e){a(i,n,o,s,c,"throw",e)}s(void 0)}))}}var s=r(7809),c=r(9596),u=r(3415),l=function(){var e=i(o().mark((function e(t,r){var n,a,i,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t.cookies.jwt);case 3:return n=e.sent,a={page:parseInt(t.query.page),pageSize:parseInt(t.query.pageSize),sortBy:t.query.sortBy,sortOrder:t.query.sortOrder},e.next=7,s.getBookReservations(n,a);case 7:return i=e.sent,e.abrupt("return",r.status(200).send({success:!0,message:"Book reservations retrieved successfully",bookReservations:i}));case 11:return e.prev=11,e.t0=e.catch(0),f=c(e.t0.message,e.t0),e.abrupt("return",r.status(null!==(l=e.t0.status)&&void 0!==l?l:500).send({success:!1,message:f.message,error:f.error}));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),f=function(){var e=i(o().mark((function e(t,r){var n,a,i,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t.cookies.jwt);case 3:return n=e.sent,a=t.params.id,e.next=7,s.getBookReservationById(n,a);case 7:i=e.sent,r.status(200).send({success:!0,message:"Book reservation retrieved successfully",bookReservation:i}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),f=c(e.t0.message,e.t0),r.status(null!==(l=e.t0.status)&&void 0!==l?l:500).send({success:!1,message:f.message,error:f.error});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),h=function(){var e=i(o().mark((function e(t,r){var n,a,i,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t.cookies.jwt);case 3:return n=e.sent,a=t.body,e.next=7,s.createBookReservation(n,a);case 7:i=e.sent,r.status(201).send({success:!0,message:"New book reservation created successfully",createdBookReservation:i}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),f=c(e.t0.message,e.t0),r.status(null!==(l=e.t0.status)&&void 0!==l?l:500).send({success:!1,message:f.message,error:f.error});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),p=function(){var e=i(o().mark((function e(t,r){var n,a,i,l,f,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t.cookies.jwt);case 3:return n=e.sent,a=t.params.id,i=t.body,e.next=8,s.updateBookReservationById(n,a,i);case 8:l=e.sent,r.status(200).send({success:!0,message:"Book reservation updated successfully",updatedBookReservation:l}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),h=c(e.t0.message,e.t0),r.status(null!==(f=e.t0.status)&&void 0!==f?f:500).send({success:!1,message:h.message,error:h.error});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}(),d=function(){var e=i(o().mark((function e(t,r){var n,a,i,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t.cookies.jwt);case 3:return n=e.sent,a=t.params.id,e.next=7,s.deleteBookReservationById(n,a);case 7:i=e.sent,r.status(200).send({success:!0,message:"Book reservation deleted successfully",bookReservation:i}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),f=c(e.t0.message,e.t0),r.status(null!==(l=e.t0.status)&&void 0!==l?l:500).send({success:!1,message:f.message,error:f.error});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),y=function(){var e=i(o().mark((function e(t,r){var n,a,i,l,f,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t.cookies.jwt);case 3:return n=e.sent,a=t.body,i={page:parseInt(t.query.page),pageSize:parseInt(t.query.pageSize),sortBy:t.query.sortBy,sortOrder:t.query.sortOrder},e.next=8,s.searchBookReservation(n,a,i);case 8:l=e.sent,r.status(200).send({success:!0,message:"Book reservations retrieved successfully based on the search criteria",bookReservations:l}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),h=c(e.t0.message,e.t0),r.status(null!==(f=e.t0.status)&&void 0!==f?f:500).send({success:!1,message:h.message,error:h.error});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}(),v=function(){var e=i(o().mark((function e(t,r){var n,a,i,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t.cookies.jwt);case 3:return n=e.sent,a={page:parseInt(t.query.page),pageSize:parseInt(t.query.pageSize),sortBy:t.query.sortBy,sortOrder:t.query.sortOrder},e.next=7,s.getAvailableBook(n,a);case 7:i=e.sent,r.status(200).send({success:!0,message:"Book reservations retrieved successfully based on the search criteria",availableBooks:i}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),f=c(e.t0.message,e.t0),r.status(null!==(l=e.t0.status)&&void 0!==l?l:500).send({success:!1,message:f.message,error:f.error});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),g=function(){var e=i(o().mark((function e(t,r){var n,a,i,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t.cookies.jwt);case 3:return n=e.sent,a={page:parseInt(t.query.page),pageSize:parseInt(t.query.pageSize),sortBy:t.query.sortBy,sortOrder:t.query.sortOrder},e.next=7,s.getReservedBook(n,a);case 7:i=e.sent,r.status(200).send({success:!0,message:"Book reservations retrieved successfully based on the search criteria",availableBooks:i}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),f=c(e.t0.message,e.t0),r.status(null!==(l=e.t0.status)&&void 0!==l?l:500).send({success:!1,message:f.message,error:f.error});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}();e.exports={getBookReservationsController:l,getBookReservationByIdController:f,createBookReservationController:h,updateBookReservationByIdController:p,deleteBookReservationByIdController:d,searchBookReservationController:y,getAvailableBookController:v,getReservedBookController:g}},9415:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){"use strict";o=function(){return t};var e,t={},r=Object.prototype,a=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),s=new A(n||[]);return i(a,"_invoke",{value:O(e,r,s)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function k(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,L=E&&E(E(N([])));L&&L!==r&&a.call(L,c)&&(x=L);var I=k.prototype=b.prototype=Object.create(x);function B(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,i,s,c){var u=p(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==n(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var o;i(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}})}function O(t,r,n){var o=d;return function(a,i){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var u=p(t,r,n);if("normal"===u.type){if(o=n.done?g:y,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=p(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(a.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=k,i(I,"constructor",{value:k,configurable:!0}),i(k,"constructor",{value:w,configurable:!0}),w.displayName=f(k,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,f(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),f(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(h(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),f(I,l,"Generator"),f(I,c,(function(){return this})),f(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function a(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){a(i,n,o,s,c,"next",e)}function c(e){a(i,n,o,s,c,"throw",e)}s(void 0)}))}}var s=r(6287),c=r(9596),u=r(3415),l=function(){var e=i(o().mark((function e(t,r){var n,a,i,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t.cookies.jwt);case 3:return n=e.sent,a={page:parseInt(t.query.page),pageSize:parseInt(t.query.pageSize),sortBy:t.query.sortBy,sortOrder:t.query.sortOrder},e.next=7,s.getEnumTables(n,a);case 7:return i=e.sent,e.abrupt("return",r.status(200).send({success:!0,message:"Enum tables retrieved successfully",enumTables:i}));case 11:return e.prev=11,e.t0=e.catch(0),f=c(e.t0.message,e.t0),e.abrupt("return",r.status(null!==(l=f.status)&&void 0!==l?l:500).send({success:!1,message:f.message,error:f.error}));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),f=function(){var e=i(o().mark((function e(t,r){var n,a,i,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t.cookies.jwt);case 3:return n=e.sent,a=t.params.id,e.next=7,s.getEnumTableById(n,a);case 7:i=e.sent,r.status(200).send({success:!0,message:"Enum table retrieved successfully",enumTable:i}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),f=c(e.t0.message,e.t0),r.status(null!==(l=f.status)&&void 0!==l?l:500).send({success:!1,message:f.message,error:f.error});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),h=function(){var e=i(o().mark((function e(t,r){var n,a,i,l,f,h,p,d,y,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t.cookies.jwt);case 3:return n=e.sent,a=t.body,i={page:parseInt(t.query.page),pageSize:parseInt(t.query.pageSize),sortBy:t.query.sortBy,sortOrder:t.query.sortOrder},e.next=8,s.getEnumTablesByIds(n,a,i);case 8:return l=e.sent,f=l.enumTables,h=l.presentIds,p=l.absentIds,d=l.invalidIds,e.abrupt("return",r.status(200).send({success:!0,message:"EnumTables retrieved successfully",enumTables:f,presentIds:h,absentIds:p,invalidIds:d}));case 16:return e.prev=16,e.t0=e.catch(0),v=c(e.t0.message,e.t0),e.abrupt("return",r.status(null!==(y=v.status)&&void 0!==y?y:500).send({success:!1,message:v.message,error:v.error}));case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,r){return e.apply(this,arguments)}}(),p=function(){var e=i(o().mark((function e(t,r){var n,a,i,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t.cookies.jwt);case 3:return n=e.sent,a=t.body,e.next=7,s.createEnumTable(n,a);case 7:i=e.sent,r.status(201).send({success:!0,message:"New enum table created successfully",createdEnumTable:i}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),f=c(e.t0.message,e.t0),r.status(null!==(l=f.status)&&void 0!==l?l:500).send({success:!1,message:f.message,error:f.error});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),d=function(){var e=i(o().mark((function e(t,r){var n,a,i,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t.cookies.jwt);case 3:return n=e.sent,a=t.body,e.next=7,s.createBulkEnumTable(n,a);case 7:i=e.sent,r.status(201).send({success:!0,message:"New enum table created successfully",enumTables:i}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),f=c(e.t0.message,e.t0),r.status(null!==(l=f.status)&&void 0!==l?l:500).send({success:!1,message:f.message,error:f.error});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),y=function(){var e=i(o().mark((function e(t,r){var n,a,i,l,f,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t.cookies.jwt);case 3:return n=e.sent,a=t.params.id,i=t.body,e.next=8,s.updateEnumTableById(n,a,i);case 8:l=e.sent,r.status(200).send({success:!0,message:"Enum table updated successfully",enumTable:l}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),h=c(e.t0.message,e.t0),r.status(null!==(f=h.status)&&void 0!==f?f:500).send({success:!1,message:h.message,error:h.error});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}(),v=function(){var e=i(o().mark((function e(t,r){var n,a,i,l,f,h,p,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t.cookies.jwt);case 3:return n=e.sent,a=t.body,e.next=7,s.updateBulkEnumTables(n,a);case 7:i=e.sent,i.enumTable,l=i.presentIds,f=i.absentIds,h=i.invalidIds,r.status(200).send({success:!0,message:"Enum table updated successfully",updatedIds:l,absentIds:f,invalidIds:h}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),d=c(e.t0.message,e.t0),r.status(null!==(p=d.status)&&void 0!==p?p:500).send({success:!1,message:d.message,error:d.error});case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,r){return e.apply(this,arguments)}}(),g=function(){var e=i(o().mark((function e(t,r){var n,a,i,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t.cookies.jwt);case 3:return n=e.sent,a=t.params.id,e.next=7,s.deleteEnumTableById(n,a);case 7:i=e.sent,r.status(200).send({success:!0,message:"Enum table deleted successfully",enumTable:i}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),f=c(e.t0.message,e.t0),r.status(null!==(l=f.status)&&void 0!==l?l:500).send({success:!1,message:f.message,error:f.error});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),m=function(){var e=i(o().mark((function e(t,r){var n,a,i,l,f,h,p,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t.cookies.jwt);case 3:return n=e.sent,a=t.body,e.next=7,s.deleteBulkEnumTables(n,a);case 7:i=e.sent,i.enumTable,l=i.presentIds,f=i.absentIds,h=i.invalidIds,r.status(200).send({success:!0,message:"Enum table deleted successfully",deletedIds:l,absentIds:f,invalidIds:h}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),d=c(e.t0.message,e.t0),r.status(null!==(p=d.status)&&void 0!==p?p:500).send({success:!1,message:d.message,error:d.error});case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,r){return e.apply(this,arguments)}}(),b=function(){var e=i(o().mark((function e(t,r){var n,a,i,l,f,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t.cookies.jwt);case 3:return n=e.sent,a=t.body,i={page:parseInt(t.query.page),pageSize:parseInt(t.query.pageSize),sortBy:t.query.sortBy,sortOrder:t.query.sortOrder},e.next=8,s.searchEnumTable(n,a,i);case 8:l=e.sent,r.status(200).send({success:!0,message:"Enum tables retrieved successfully based on the search criteria",enumTables:l}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),h=c(e.t0.message,e.t0),r.status(null!==(f=h.status)&&void 0!==f?f:500).send({success:!1,message:h.message,error:h.error});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}();e.exports={getEnumTablesController:l,getEnumTableByIdController:f,getEnumTablesByIdsController:h,createEnumTableController:p,createBulkEnumTableController:d,updateEnumTableByIdController:y,updateBalkEnumTableController:v,deleteEnumTableByIdController:g,deleteBulkEnumTableController:m,searchEnumTableController:b}},8905:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){"use strict";o=function(){return t};var e,t={},r=Object.prototype,a=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),s=new A(n||[]);return i(a,"_invoke",{value:O(e,r,s)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function k(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,L=E&&E(E(N([])));L&&L!==r&&a.call(L,c)&&(x=L);var I=k.prototype=b.prototype=Object.create(x);function B(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,i,s,c){var u=p(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==n(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var o;i(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}})}function O(t,r,n){var o=d;return function(a,i){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var u=p(t,r,n);if("normal"===u.type){if(o=n.done?g:y,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=p(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(a.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=k,i(I,"constructor",{value:k,configurable:!0}),i(k,"constructor",{value:w,configurable:!0}),w.displayName=f(k,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,f(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),f(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(h(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),f(I,l,"Generator"),f(I,c,(function(){return this})),f(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function a(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){a(i,n,o,s,c,"next",e)}function c(e){a(i,n,o,s,c,"throw",e)}s(void 0)}))}}var s=r(8817),c=r(2493),u=r(681),l=r(3415),f=r(9596),h=r(3587),p=function(){var e=i(o().mark((function e(t,r){var n,a,i,c,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(t.cookies.jwt);case 3:return n=e.sent,a={page:parseInt(t.query.page),pageSize:parseInt(t.query.pageSize),sortBy:t.query.sortBy,sortOrder:t.query.sortOrder},e.next=7,s.getUsers(n,a);case 7:return i=e.sent,e.abrupt("return",r.status(200).send({success:!0,message:"Users retrieved successfully",users:i}));case 11:return e.prev=11,e.t0=e.catch(0),u=f(e.t0.message,e.t0),e.abrupt("return",r.status(null!==(c=u.status)&&void 0!==c?c:500).send({success:!1,message:u.message,error:u.error}));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),d=function(){var e=i(o().mark((function e(t,r){var n,a,i,c,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(t.cookies.jwt);case 3:return n=e.sent,a=t.params.id,e.next=7,s.getUserById(n,a);case 7:i=e.sent,r.status(200).send({success:!0,message:"User retrieved successfully",User:i}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),u=f(e.t0.message,e.t0),r.status(null!==(c=u.status)&&void 0!==c?c:500).send({success:!1,message:u.message,error:u.error});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),y=function(){var e=i(o().mark((function e(t,r){var n,a,i,c,u,h,p,d,y,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(t.cookies.jwt);case 3:return n=e.sent,a=t.body,i={page:parseInt(t.query.page),pageSize:parseInt(t.query.pageSize),sortBy:t.query.sortBy,sortOrder:t.query.sortOrder},e.next=8,s.getUsersByIds(n,a,i);case 8:return c=e.sent,u=c.users,h=c.presentIds,p=c.absentIds,d=c.invalidIds,e.abrupt("return",r.status(200).send({success:!0,message:"Users retrieved successfully",users:u,presentIds:h,absentIds:p,invalidIds:d}));case 16:return e.prev=16,e.t0=e.catch(0),v=f(e.t0.message,e.t0),e.abrupt("return",r.status(null!==(y=v.status)&&void 0!==y?y:500).send({success:!1,message:v.message,error:v.error}));case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,r){return e.apply(this,arguments)}}(),v=function(){var e=i(o().mark((function e(t,r){var n,a,i,c,u,h,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(t.cookies.jwt);case 3:return n=e.sent,a=t.body,i=t.file,c=i.filename,i.path,i.originalname,a.photo=c,e.next=9,s.createUser(n,a);case 9:u=e.sent,r.status(201).send({success:!0,message:"New user created successfully",user:u}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),p=f(e.t0.message,e.t0),r.status(null!==(h=p.status)&&void 0!==h?h:500).send({success:!1,message:p.message,error:p.error});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,r){return e.apply(this,arguments)}}(),g=function(){var e=i(o().mark((function e(t,r){var n,a,i,c,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(t.cookies.jwt);case 3:return n=e.sent,a=t.body,e.next=7,s.createBulkUser(n,a);case 7:i=e.sent,r.status(201).send({success:!0,message:"New user created successfully",users:i}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),u=f(e.t0.message,e.t0),r.status(null!==(c=u.status)&&void 0!==c?c:500).send({success:!1,message:u.message,error:u.error});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),m=function(){var e=i(o().mark((function e(t,r){var n,a,i,c,u,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(t.cookies.jwt);case 3:return n=e.sent,a=t.params.id,i=t.body,e.next=8,s.updateUserById(n,a,i);case 8:c=e.sent,r.status(200).send({success:!0,message:"User updated successfully",user:c}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),h=f(e.t0.message,e.t0),r.status(null!==(u=h.status)&&void 0!==u?u:500).send({success:!1,message:h.message,error:h.error});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}(),b=function(){var e=i(o().mark((function e(t,r){var n,a,i,c,u,h,p,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(t.cookies.jwt);case 3:return n=e.sent,a=t.body,e.next=7,s.updateBulkUsers(n,a);case 7:i=e.sent,i.user,c=i.presentIds,u=i.absentIds,h=i.invalidIds,r.status(200).send({success:!0,message:"User updated successfully",updatedIds:c,absentIds:u,invalidIds:h}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),d=f(e.t0.message,e.t0),r.status(null!==(p=d.status)&&void 0!==p?p:500).send({success:!1,message:d.message,error:d.error});case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,r){return e.apply(this,arguments)}}(),w=function(){var e=i(o().mark((function e(t,r){var n,a,i,c,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(t.cookies.jwt);case 3:return n=e.sent,a=t.params.id,e.next=7,s.deleteUserById(n,a);case 7:i=e.sent,r.status(200).send({success:!0,message:"User deleted successfully",user:i}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),u=f(e.t0.message,e.t0),r.status(null!==(c=u.status)&&void 0!==c?c:500).send({success:!1,message:u.message,error:u.error});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),k=function(){var e=i(o().mark((function e(t,r){var n,a,i,c,u,h,p,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(t.cookies.jwt);case 3:return n=e.sent,a=t.body,e.next=7,s.deleteBulkUsers(n,a);case 7:i=e.sent,i.user,c=i.presentIds,u=i.absentIds,h=i.invalidIds,r.status(200).send({success:!0,message:"User deleted successfully",deletedIds:c,absentIds:u,invalidIds:h}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),d=f(e.t0.message,e.t0),r.status(null!==(p=d.status)&&void 0!==p?p:500).send({success:!1,message:d.message,error:d.error});case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,r){return e.apply(this,arguments)}}(),x=function(){var e=i(o().mark((function e(t,r){var n,a,i,c,u,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(t.cookies.jwt);case 3:return n=e.sent,a=t.body,i={page:parseInt(t.query.page),pageSize:parseInt(t.query.pageSize),sortBy:t.query.sortBy,sortOrder:t.query.sortOrder},e.next=8,s.searchUser(n,a,i);case 8:c=e.sent,r.status(200).send({success:!0,users:c,message:"Users retrieved successfully based on the search criteria"}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),h=f(e.t0.message,e.t0),r.status(null!==(u=h.status)&&void 0!==u?u:500).send({success:!1,message:h.message,error:h.error});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}(),E=function(){var e=i(o().mark((function e(t,r){var n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=t.body){e.next=4;break}return e.abrupt("return",r.status(400).send({success:!1,message:"Please provide a valid user"}));case 4:return e.next=6,s.registerUser(n);case 6:r.status(201).send({success:!0,message:"New user created successfully"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),a=h(e.t0),r.status(500).send({success:!1,email:a.email,password:a.password});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}(),L=function(){var e=i(o().mark((function e(t,r){var n,a,i,s,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.body,a=n.email,i=n.password,e.prev=1,e.next=4,c.login(a,i);case 4:s=e.sent,l=u(r,s._id),r.status(200).json({user:s._id,token:l}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),f=h(e.t0),r.status(500).send({success:!1,email:f.email,password:f.password});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,r){return e.apply(this,arguments)}}(),I=function(){var e=i(o().mark((function e(t,r){var n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(t.cookies.jwt);case 3:if(n=e.sent,r.cookie("jwt","",{maxAge:1}),!n){e.next=7;break}return e.abrupt("return",r.status(200).send({success:!0,message:"Logout successful"}));case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),a=f("Failed to logout",e.t0),r.status(500).send({success:!1,message:a.message,error:a.error});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}(),B=function(){var e=i(o().mark((function e(t,r){var n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(t.cookies.jwt);case 3:if(!(n=e.sent)){e.next=8;break}return e.abrupt("return",r.status(200).send({success:!0,message:"Authenticated",user:n}));case 8:return e.abrupt("return",r.status(401).send({success:!1,message:"Unauthorized"}));case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),a=f("Failed to login",e.t0),r.status(500).send({success:!1,message:a.message,error:a.error});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}();e.exports={getUsersController:p,getUserByIdController:d,getUsersByIdsController:y,createUserController:v,createBulkUserController:g,updateUserController:m,updateBalkUserController:b,deleteUserController:w,deleteBulkUserController:k,searchUserController:x,registerUserController:E,loginUserController:L,logoutUserController:I,checkUserController:B}},9449:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){"use strict";o=function(){return t};var e,t={},r=Object.prototype,a=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),s=new A(n||[]);return i(a,"_invoke",{value:O(e,r,s)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function k(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,L=E&&E(E(N([])));L&&L!==r&&a.call(L,c)&&(x=L);var I=k.prototype=b.prototype=Object.create(x);function B(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,i,s,c){var u=p(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==n(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var o;i(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}})}function O(t,r,n){var o=d;return function(a,i){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var u=p(t,r,n);if("normal"===u.type){if(o=n.done?g:y,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=p(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(a.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=k,i(I,"constructor",{value:k,configurable:!0}),i(k,"constructor",{value:w,configurable:!0}),w.displayName=f(k,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,f(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),f(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(h(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),f(I,l,"Generator"),f(I,c,(function(){return this})),f(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function a(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){a(i,n,o,s,c,"next",e)}function c(e){a(i,n,o,s,c,"throw",e)}s(void 0)}))}}var s=r(7433),c=r(9596),u=function(){var e=i(o().mark((function e(t,r){var n,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.getUserRoles(t.cookies.jwt);case 3:return n=e.sent,e.abrupt("return",r.status(200).send({success:!0,userRoles:n,message:"UserRoles retrieved successfully"}));case 7:return e.prev=7,e.t0=e.catch(0),i=c("Error while retrieving userRoles",e.t0),e.abrupt("return",r.status(null!==(a=e.t0.status)&&void 0!==a?a:500).send({success:!1,message:i.message,error:i.error}));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}(),l=function(){var e=i(o().mark((function e(t,r){var n,a,i,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.params.id,e.next=4,s.getUserRoleById(t.cookies.jwt,n);case 4:a=e.sent,r.status(200).send({success:!0,userRole:a,message:"UserRole retrieved successfully"}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),u=c("Error while retrieving the userRole",e.t0),r.status(null!==(i=e.t0.status)&&void 0!==i?i:500).send({success:!1,message:u.message,error:u.error});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}(),f=function(){var e=i(o().mark((function e(t,r){var n,a,i,u,l,f,h,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.body,e.next=4,s.getUserRolesByIds(t.cookies.jwt,n);case 4:return a=e.sent,i=a.userRoles,u=a.presentIds,l=a.absentIds,f=a.invalidIds,e.abrupt("return",r.status(200).send({success:!0,userRoles:i,presentIds:u,absentIds:l,invalidIds:f,message:"UserRoles retrieved successfully"}));case 12:return e.prev=12,e.t0=e.catch(0),p=c("Error while retrieving userRoles",e.t0),e.abrupt("return",r.status(null!==(h=e.t0.status)&&void 0!==h?h:500).send({success:!1,message:p.message,error:p.error}));case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}(),h=function(){var e=i(o().mark((function e(t,r){var n,a,i,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.body,e.next=4,s.createUserRole(t.cookies.jwt,n);case 4:a=e.sent,r.status(201).send({success:!0,message:"New userRole created successfully",createdUserRole:a}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),u=c("Error while creating the userRole",e.t0),r.status(null!==(i=e.t0.status)&&void 0!==i?i:500).send({success:!1,message:u.message,error:u.error});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}(),p=function(){var e=i(o().mark((function e(t,r){var n,a,i,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.body,e.next=4,s.createBulkUserRole(t.cookies.jwt,n);case 4:a=e.sent,r.status(201).send({success:!0,message:"New userRole created successfully",userRoles:a}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),u=c("Error while creating the userRole",e.t0),r.status(null!==(i=e.t0.status)&&void 0!==i?i:500).send({success:!1,message:u.message,error:u.error});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}(),d=function(){var e=i(o().mark((function e(t,r){var n,a,i,u,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.params.id,a=t.body,e.next=5,s.updateUserRoleById(t.cookies.jwt,n,a);case 5:i=e.sent,r.status(200).send({success:!0,message:"UserRole updated successfully",updatedUserRole:i}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),l=c("Error while updating the userRole",e.t0),r.status(null!==(u=e.t0.status)&&void 0!==u?u:500).send({success:!1,message:l.message,error:l.error});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}(),y=function(){var e=i(o().mark((function e(t,r){var n,a,i,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.body,e.next=4,s.updateBulkUserRoles(t.cookies.jwt,n);case 4:a=e.sent,r.status(200).send({success:!0,message:"UserRole updated successfully",updatedUserRole:a}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),u=c("Error while updating the userRole",e.t0),r.status(null!==(i=e.t0.status)&&void 0!==i?i:500).send({success:!1,message:u.message,error:u.error});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}(),v=function(){var e=i(o().mark((function e(t,r){var n,a,i,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.params.id,e.next=4,s.deleteUserRoleById(t.cookies.jwt,n);case 4:a=e.sent,r.status(200).send({success:!0,message:"UserRole deleted successfully",userRole:a}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),u=c("Error while deleting the userRole",e.t0),r.status(null!==(i=e.t0.status)&&void 0!==i?i:500).send({success:!1,message:u.message,error:u.error});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}(),g=function(){var e=i(o().mark((function e(t,r){var n,a,i,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.body,e.next=4,s.deleteBulkUserRoles(t.cookies.jwt,n);case 4:a=e.sent,r.status(200).send({success:!0,message:"UserRole deleted successfully",userRole:a}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),u=c("Error while deleting the userRole",e.t0),r.status(null!==(i=e.t0.status)&&void 0!==i?i:500).send({success:!1,message:u.message,error:u.error});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}(),m=function(){var e=i(o().mark((function e(t,r){var n,a,i,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.body,e.next=4,s.searchUserRole(t.cookies.jwt,n);case 4:a=e.sent,r.status(200).send({success:!0,userRoles:a,message:"UserRoles retrieved based on search criteria"}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),u=c("Error while searching for userRoles",e.t0),r.status(null!==(i=e.t0.status)&&void 0!==i?i:500).send({success:!1,message:u.message,error:u.error});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}();e.exports={getUserRolesController:u,getUserRoleByIdController:l,getUserRolesByIdsController:f,createUserRoleController:h,createBulkUserRoleController:p,updateUserRoleByIdController:d,updateBalkUserRoleController:y,deleteUserRoleByIdController:v,deleteBulkUserRoleController:g,searchUserRoleController:m}},21:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){"use strict";o=function(){return t};var e,t={},r=Object.prototype,a=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),s=new A(n||[]);return i(a,"_invoke",{value:O(e,r,s)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function k(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,L=E&&E(E(N([])));L&&L!==r&&a.call(L,c)&&(x=L);var I=k.prototype=b.prototype=Object.create(x);function B(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,i,s,c){var u=p(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==n(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var o;i(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}})}function O(t,r,n){var o=d;return function(a,i){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var u=p(t,r,n);if("normal"===u.type){if(o=n.done?g:y,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=p(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(a.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=k,i(I,"constructor",{value:k,configurable:!0}),i(k,"constructor",{value:w,configurable:!0}),w.displayName=f(k,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,f(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),f(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(h(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),f(I,l,"Generator"),f(I,c,(function(){return this})),f(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function a(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){a(i,n,o,s,c,"next",e)}function c(e){a(i,n,o,s,c,"throw",e)}s(void 0)}))}}var s=r(1911);t.getBookCategories=function(){var e=i(o().mark((function e(t,r){var n,a,i,c,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={page:1,pageSize:100,sortBy:"bookCategory",sortOrder:1},applyPagingQuery=!r||isNaN(r.page)||isNaN(r.pageSize)||!r.sortBy||!r.sortOrder||r.pageSize<1?n:r,a=(applyPagingQuery.page-1)*applyPagingQuery.pageSize,(i={})[applyPagingQuery.sortBy]=applyPagingQuery.sortOrder,e.next=7,s.countDocuments();case 7:return c=e.sent,e.next=10,s.find(t).sort(i).skip(a).limit(applyPagingQuery.pageSize);case 10:return u=e.sent,e.abrupt("return",{bookCategories:u,totalBookCategory:c});case 12:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.createBookCategory=function(){var e=i(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new s(t),e.next=3,r.save();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.createBulkBookCategory=function(){var e=i(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.insertMany(t,{ordered:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.updateBookCategoryById=function(){var e=i(o().mark((function e(t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.findByIdAndUpdate(t,r,{new:!0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.updateBulkBookCategories=function(){var e=i(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.bulkWrite(t,{ordered:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.deleteBookCategoryById=function(){var e=i(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.findByIdAndDelete(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.deleteBulkBookCategory=function(){var e=i(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.bulkWrite(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},8173:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){"use strict";o=function(){return t};var e,t={},r=Object.prototype,a=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),s=new A(n||[]);return i(a,"_invoke",{value:O(e,r,s)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function k(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,L=E&&E(E(N([])));L&&L!==r&&a.call(L,c)&&(x=L);var I=k.prototype=b.prototype=Object.create(x);function B(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,i,s,c){var u=p(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==n(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var o;i(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}})}function O(t,r,n){var o=d;return function(a,i){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var u=p(t,r,n);if("normal"===u.type){if(o=n.done?g:y,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=p(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(a.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=k,i(I,"constructor",{value:k,configurable:!0}),i(k,"constructor",{value:w,configurable:!0}),w.displayName=f(k,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,f(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),f(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(h(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),f(I,l,"Generator"),f(I,c,(function(){return this})),f(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function a(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){a(i,n,o,s,c,"next",e)}function c(e){a(i,n,o,s,c,"throw",e)}s(void 0)}))}}var s=r(9047);t.getBookInfos=function(){var e=i(o().mark((function e(t,r){var n,a,i,c,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={page:1,pageSize:100,sortBy:"bookTitle",sortOrder:1},applyPagingQuery=!r||isNaN(r.page)||isNaN(r.pageSize)||!r.sortBy||!r.sortOrder||r.pageSize<1?n:r,a=(applyPagingQuery.page-1)*applyPagingQuery.pageSize,(i={})[applyPagingQuery.sortBy]=applyPagingQuery.sortOrder,e.next=7,s.countDocuments();case 7:return c=e.sent,e.next=10,s.find(t).sort(i).skip(a).limit(applyPagingQuery.pageSize);case 10:return u=e.sent,e.abrupt("return",{bookInfos:u,totalBookInfo:c});case 12:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.createBookInfo=function(){var e=i(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new s(t),e.next=3,r.save();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.createBulkBookInfo=function(){var e=i(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.insertMany(t,{ordered:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.updateBookInfoById=function(){var e=i(o().mark((function e(t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.findByIdAndUpdate(t,r,{new:!0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.updateBulkBookInfos=function(){var e=i(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.bulkWrite(t,{ordered:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.deleteBookInfoById=function(){var e=i(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.findByIdAndDelete(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.deleteBulkBookInfo=function(){var e=i(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.bulkWrite(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},9187:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){"use strict";o=function(){return t};var e,t={},r=Object.prototype,a=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),s=new A(n||[]);return i(a,"_invoke",{value:O(e,r,s)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function k(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,L=E&&E(E(N([])));L&&L!==r&&a.call(L,c)&&(x=L);var I=k.prototype=b.prototype=Object.create(x);function B(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,i,s,c){var u=p(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==n(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var o;i(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}})}function O(t,r,n){var o=d;return function(a,i){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var u=p(t,r,n);if("normal"===u.type){if(o=n.done?g:y,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=p(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(a.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=k,i(I,"constructor",{value:k,configurable:!0}),i(k,"constructor",{value:w,configurable:!0}),w.displayName=f(k,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,f(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),f(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(h(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),f(I,l,"Generator"),f(I,c,(function(){return this})),f(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){var o;return o=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==n(o)?o:String(o))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function f(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){l(a,n,o,i,s,"next",e)}function s(e){l(a,n,o,i,s,"throw",e)}i(void 0)}))}}var h=r(9579),p=r(1877);t.getBookReservations=function(){var e=f(o().mark((function e(t,r){var n,a,s,u,l,d,y,v,g;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={page:1,pageSize:100,sortBy:"bookReservationName",sortOrder:1},a=!r||isNaN(r.page)||isNaN(r.pageSize)||!r.sortBy||!r.sortOrder||r.pageSize<1?n:r,s=(a.page-1)*a.pageSize,(u={})[a.sortBy]=a.sortOrder,e.prev=5,e.next=8,Promise.all([h.find(t).sort(u).skip(s).limit(a.pageSize),h.countDocuments()]);case 8:return l=e.sent,d=c(l,2),y=d[0],v=d[1],e.next=14,Promise.all(y.map(function(){var e=f(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.find({bookReservationId:t._id});case 2:return r=e.sent,e.abrupt("return",i(i({},t.toObject()),{},{detailTable:r.map((function(e){return e.toObject()}))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:return g=e.sent,e.abrupt("return",{bookReservations:g,totalBookReservation:v});case 18:throw e.prev=18,e.t0=e.catch(5),e.t0;case 21:case"end":return e.stop()}}),e,null,[[5,18]])})));return function(t,r){return e.apply(this,arguments)}}(),t.createBookReservation=function(){var e=f(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new h(t),e.next=3,r.save();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.updateBookReservationById=function(){var e=f(o().mark((function e(t,r){var n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.findByIdAndUpdate(t,r,{new:!0});case 2:if(!((n=e.sent)&&r.detailTable&&r.detailTable.length>0)){e.next=7;break}return a=r.detailTable.map(function(){var e=f(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.findByIdAndUpdate(t._id,{detailTableName:t.detailTableName,detailTableAccessLevel:t.detailTableAccessLevel,detailTableDescription:t.detailTableDescription},{new:!0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=7,Promise.all(a);case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.deleteBookReservationById=function(){var e=f(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.findByIdAndDelete(t);case 2:if(!(r=e.sent)){e.next=6;break}return e.next=6,p.deleteMany({bookReservationId:t});case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.getAvailableBook=function(){var e=f(o().mark((function e(t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.aggregate(t);case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.getReservedBook=function(){var e=f(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={page:1,pageSize:100,sortBy:"bookReservationName",sortOrder:1},n=!t||isNaN(t.page)||isNaN(t.pageSize)||!t.sortBy||!t.sortOrder||t.pageSize<1?r:t,(n.page-1)*n.pageSize,{}[n.sortBy]=n.sortOrder;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},1037:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){"use strict";o=function(){return t};var e,t={},r=Object.prototype,a=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),s=new A(n||[]);return i(a,"_invoke",{value:O(e,r,s)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function k(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,L=E&&E(E(N([])));L&&L!==r&&a.call(L,c)&&(x=L);var I=k.prototype=b.prototype=Object.create(x);function B(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,i,s,c){var u=p(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==n(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var o;i(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}})}function O(t,r,n){var o=d;return function(a,i){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var u=p(t,r,n);if("normal"===u.type){if(o=n.done?g:y,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=p(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(a.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=k,i(I,"constructor",{value:k,configurable:!0}),i(k,"constructor",{value:w,configurable:!0}),w.displayName=f(k,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,f(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),f(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(h(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),f(I,l,"Generator"),f(I,c,(function(){return this})),f(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function a(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){a(i,n,o,s,c,"next",e)}function c(e){a(i,n,o,s,c,"throw",e)}s(void 0)}))}}var s=r(8109);t.getEnumTables=function(){var e=i(o().mark((function e(t,r){var n,a,i,c,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={page:1,pageSize:100,sortBy:"enumTableName",sortOrder:1},applyPagingQuery=!r||isNaN(r.page)||isNaN(r.pageSize)||!r.sortBy||!r.sortOrder||r.pageSize<1?n:r,a=(applyPagingQuery.page-1)*applyPagingQuery.pageSize,(i={})[applyPagingQuery.sortBy]=applyPagingQuery.sortOrder,e.next=7,s.countDocuments();case 7:return c=e.sent,e.next=10,s.find(t).sort(i).skip(a).limit(applyPagingQuery.pageSize);case 10:return u=e.sent,e.abrupt("return",{enumTables:u,totalEnumTable:c});case 12:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.createEnumTable=function(){var e=i(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new s(t),e.next=3,r.save();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.createBulkEnumTable=function(){var e=i(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.insertMany(t,{ordered:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.updateEnumTableById=function(){var e=i(o().mark((function e(t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.findByIdAndUpdate(t,r,{new:!0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.updateBulkEnumTables=function(){var e=i(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.bulkWrite(t,{ordered:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.deleteEnumTableById=function(){var e=i(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.findByIdAndDelete(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.deleteBulkEnumTable=function(){var e=i(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.bulkWrite(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},5403:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){"use strict";o=function(){return t};var e,t={},r=Object.prototype,a=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),s=new A(n||[]);return i(a,"_invoke",{value:O(e,r,s)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function k(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,L=E&&E(E(N([])));L&&L!==r&&a.call(L,c)&&(x=L);var I=k.prototype=b.prototype=Object.create(x);function B(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,i,s,c){var u=p(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==n(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var o;i(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}})}function O(t,r,n){var o=d;return function(a,i){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var u=p(t,r,n);if("normal"===u.type){if(o=n.done?g:y,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=p(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(a.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=k,i(I,"constructor",{value:k,configurable:!0}),i(k,"constructor",{value:w,configurable:!0}),w.displayName=f(k,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,f(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),f(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(h(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),f(I,l,"Generator"),f(I,c,(function(){return this})),f(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function a(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){a(i,n,o,s,c,"next",e)}function c(e){a(i,n,o,s,c,"throw",e)}s(void 0)}))}}var s=r(2493);t.getUsers=function(){var e=i(o().mark((function e(t,r){var n,a,i,c,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={page:1,pageSize:100,sortBy:"userName",sortOrder:1},applyPagingQuery=!r||isNaN(r.page)||isNaN(r.pageSize)||!r.sortBy||!r.sortOrder||r.pageSize<1?n:r,a=(applyPagingQuery.page-1)*applyPagingQuery.pageSize,(i={})[applyPagingQuery.sortBy]=applyPagingQuery.sortOrder,e.next=7,s.countDocuments();case 7:return c=e.sent,e.next=10,s.find(t).sort(i).skip(a).limit(applyPagingQuery.pageSize);case 10:return u=e.sent,e.abrupt("return",{users:u,totalUser:c});case 12:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.getUserById=function(){var e=i(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.findById(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.createUser=function(){var e=i(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new s(t),e.next=3,r.save();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.createBulkUser=function(){var e=i(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.insertMany(t,{ordered:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.updateUserById=function(){var e=i(o().mark((function e(t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.findByIdAndUpdate(t,r,{new:!0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.updateBulkUsers=function(){var e=i(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.bulkWrite(t,{ordered:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.deleteUserById=function(){var e=i(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.findByIdAndDelete(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.deleteBulkUser=function(){var e=i(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.bulkWrite(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.searchUser=function(){var e=i(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.find(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},9963:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){"use strict";o=function(){return t};var e,t={},r=Object.prototype,a=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),s=new A(n||[]);return i(a,"_invoke",{value:O(e,r,s)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function k(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,L=E&&E(E(N([])));L&&L!==r&&a.call(L,c)&&(x=L);var I=k.prototype=b.prototype=Object.create(x);function B(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,i,s,c){var u=p(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==n(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var o;i(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}})}function O(t,r,n){var o=d;return function(a,i){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var u=p(t,r,n);if("normal"===u.type){if(o=n.done?g:y,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=p(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(a.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=k,i(I,"constructor",{value:k,configurable:!0}),i(k,"constructor",{value:w,configurable:!0}),w.displayName=f(k,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,f(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),f(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(h(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),f(I,l,"Generator"),f(I,c,(function(){return this})),f(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function a(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){a(i,n,o,s,c,"next",e)}function c(e){a(i,n,o,s,c,"throw",e)}s(void 0)}))}}var s=r(9921);t.getUserRoles=function(){var e=i(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.find(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.getUserRoleById=function(){var e=i(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.findById(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.createUserRole=function(){var e=i(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new s(t),e.next=3,r.save();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.createBulkUserRole=function(){var e=i(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.insertMany(t,{ordered:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.updateUserRoleById=function(){var e=i(o().mark((function e(t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.findByIdAndUpdate(t,r,{new:!0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.updateBulkUserRoles=function(){var e=i(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.bulkWrite(t,{ordered:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.deleteUserRole=function(){var e=i(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.findByIdAndDelete(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.deleteBulkUserRole=function(){var e=i(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.bulkWrite(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.searchUserRole=function(){var e=i(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.find(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},4797:(e,t)=>{t.generateReferenceNumber=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"REF";return e+=(new Date).toISOString().replace(/[-:T.]/g,""),e+=Math.floor(1e4*Math.random()).toString().padStart(4,"0")},t.isEmptyStringNullOrUndefined=function(e){return""===e||null==e}},6386:(e,t,r)=>{var n=r(829);e.exports=function(e){var t=parseInt(process.env.MAX_AGE,10);return n.sign({userId:e},process.env.JWT_SECRET,{expiresIn:t})}},9822:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){"use strict";o=function(){return t};var e,t={},r=Object.prototype,a=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),s=new A(n||[]);return i(a,"_invoke",{value:O(e,r,s)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function k(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,L=E&&E(E(N([])));L&&L!==r&&a.call(L,c)&&(x=L);var I=k.prototype=b.prototype=Object.create(x);function B(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,i,s,c){var u=p(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==n(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var o;i(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}})}function O(t,r,n){var o=d;return function(a,i){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var u=p(t,r,n);if("normal"===u.type){if(o=n.done?g:y,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=p(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(a.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=k,i(I,"constructor",{value:k,configurable:!0}),i(k,"constructor",{value:w,configurable:!0}),w.displayName=f(k,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,f(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),f(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(h(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),f(I,l,"Generator"),f(I,c,(function(){return this})),f(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function a(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}r(818).config();var i=r(8971),s=r(9596),c=r(6037),u=function(){var e,t=(e=o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.connect(null!=t?t:process.env.MONGODB_URL,{});case 3:return r=e.sent,i("Connected To Database (".concat(c.connection.host,")")),e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),s("DB connection error",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){a(i,n,o,s,c,"next",e)}function c(e){a(i,n,o,s,c,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}();e.exports=u},780:(e,t,r)=>{var n=r(829);e.exports=function(e){var t=null;if(!e){var r=new Error("Token not found");throw r.status=401,r.message="Please login again",r.error="Token not found",r}return n.verify(e,process.env.JWT_SECRET,(function(e,r){if(e)throw new Error(e);t=r})),t}},9596:(e,t,r)=>{var n=r(8476).errorLogger;e.exports=function(e,t){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a={message:e,error:null!==(r=t.error)&&void 0!==r?r:t.message,status:t.statusCode};return t.message.includes("E11000")&&(a.status=400,a.message="login-user-register"===o?"The email is already existed":"The value is already existed, please check unique value field"),t.message.includes("Cast to ObjectId failed for value")&&(a.error="The record is not found"),n.error("Message : ".concat(e," /nError : ").concat(a.error,"/nStatusCode : ").concat(a.status,"/nDetails : ").concat(t)),a}},3587:e=>{e.exports=function(e){var t={email:"",password:""};return"incorrect email"===e.message&&(t.email="The email is not registered"),"incorrect password"===e.message&&(t.password="The password is incorrect"),11e3===e.code?(t.email="The email is already existed",t):(e.message.includes("user validation failed")&&Object.values(e.errors).forEach((function(e){var r=e.properties;t[r.path]=r.message})),t)}},3415:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){"use strict";o=function(){return t};var e,t={},r=Object.prototype,a=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),s=new A(n||[]);return i(a,"_invoke",{value:O(e,r,s)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function k(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,L=E&&E(E(N([])));L&&L!==r&&a.call(L,c)&&(x=L);var I=k.prototype=b.prototype=Object.create(x);function B(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,i,s,c){var u=p(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==n(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var o;i(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}})}function O(t,r,n){var o=d;return function(a,i){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var u=p(t,r,n);if("normal"===u.type){if(o=n.done?g:y,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=p(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(a.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=k,i(I,"constructor",{value:k,configurable:!0}),i(k,"constructor",{value:w,configurable:!0}),w.displayName=f(k,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,f(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),f(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(h(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),f(I,l,"Generator"),f(I,c,(function(){return this})),f(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function a(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}var i=r(2493),s=r(780);function c(){var e;return e=o().mark((function e(t){var r,n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s(t),e.next=3,i.findById(r.userId);case 3:if(n=e.sent){e.next=10;break}throw(a=new Error).status=401,a.message="You are not authorized to access this application, please login again",a.error="Login unauthenticated attempt from ".concat(r.email),a;case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})),c=function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){a(i,n,o,s,c,"next",e)}function c(e){a(i,n,o,s,c,"throw",e)}s(void 0)}))},c.apply(this,arguments)}e.exports=function(e){return c.apply(this,arguments)}},638:(e,t,r)=>{function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var i=r(6037);function s(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=r||"object";if("object"!==a(t)||null===t){var i=new Error;throw i.status=400,i.message="Invalid ".concat(o,", please provide a valid ").concat(o),i.error="Invalid ".concat(o," structure"),i}var s=Object.keys(e);return Object.keys(t).filter((function(e){return!s.includes(e)&&!n.includes(e)}))}t.checkWrongId=function(e,t){var r=t||"id";if(!e){var n=new Error;throw n.status=400,n.message="Please provide a valid ".concat(r," ID"),n.error="Invalid ".concat(r," ID"),n}if(!i.Types.ObjectId.isValid(e)){var o=new Error;throw o.status=400,o.message="Invalid ".concat(r," ID"),o.error="Invalid type of MongoDB ".concat(r," ID"),o}},t.checkWrongProperty=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=r||"object";if(!e){var a=new Error;throw a.status=400,a.message="Please provide valid ".concat(o),a.error="The ".concat(o," is null or undefined"),a}var i=s(t,e,r,n);if(i&&i.length>0){var c=i.length>1?"ies":"y",u=JSON.stringify(i),l=new Error;throw l.status=400,l.message="Invalid propert".concat(c,": ").concat(u," in one or more of the given ").concat(o),l.error="Invalid propert".concat(c,": ").concat(u," in one or more of the given ").concat(o),l}},t.checkWrongPropertyOfList=function(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=r||"array of objects";if(!e){var i=new Error;throw i.status=400,i.message="Please provide valid ".concat(a,"(s)"),i.error="The ".concat(a," is null or undefined"),i}if(!Array.isArray(e)){var c=new Error;throw c.status=400,c.message="Please provide a valid array of ".concat(a,"(s)"),c.error="The array of ".concat(a," is not a valid array"),c}var u,l=[],f=[],h=[],p=n(e);try{for(p.s();!(u=p.n()).done;){var d=u.value;d._id&&(f.includes(d._id)&&!h.includes(d._id)&&h.push(d._id),f.push(d._id));var y=s(t,d,o);y&&y.length>0&&l.push(y)}}catch(e){p.e(e)}finally{p.f()}if(h&&h.length>0){var v=h.length>1?"s":"",g=JSON.stringify(h),m=new Error;throw m.status=400,m.message="Duplicate ID".concat(v," found: ").concat(g),m.error="Duplicate ID".concat(v," found: ").concat(g),m}if(l&&l.length>0){var b=l.length>1?"ies":"y",w=JSON.stringify(l),k=new Error;throw k.status=400,k.message="Invalid propert".concat(b,": (").concat(w,") in one or more of the given ").concat(a,"s"),k.error="Invalid propert".concat(b,": (").concat(w,") in one or more of the given ").concat(a,"s"),k}},t.separateMongoDbValidAndInvalidIds=function(e,t){var r=t||"IDs";if(!e){var n=new Error;throw n.status=400,n.message="Please provide valid ".concat(r),n.error="The ".concat(r," is null or undefined"),n}if(!Array.isArray(e)){var o=new Error;throw o.status=400,o.message="Invalid array of ".concat(r,", please provide a valid array of ").concat(r),o.error="Invalid array of ".concat(r),o}var a=[],s=[],c=[],u=[];return e.forEach((function(e){i.Types.ObjectId.isValid(e)?a.push(e):s.push(e),u.includes(e)&&!c.includes(e)&&c.push(e),u.push(e)})),{validIds:a,invalidIds:s,duplicateIds:c}},t.checkWrongAccessLevel=function(e,t,r){if(t.enumTableAccessLevel<e.roleSerial){var n=new Error;throw n.status=400,n.message="Invalid ".concat(r," access level"),n.error="The ".concat(r," access level (").concat(t.enumTableAccessLevel,") cannot be less than logged in user access level (").concat(e.roleSerial,")"),n}},t.checkWrongAccessLevelOfList=function(e,t,r){t.forEach((function(t){if(t.enumTableAccessLevel<e.roleSerial){var n=new Error;throw n.status=400,n.message="Invalid ".concat(r," access level"),n.error="The ".concat(r," access level (").concat(t.enumTableAccessLevel,") cannot be less than logged in user access level (").concat(e.roleSerial,")"),n}}))}},8476:(e,t,r)=>{var n=r(5124),o=r(9233),a=r(6941).toTimestampLog,i=[new n.transports.Console({colorize:!0})],s=n.format((function(e,t){return t.tz?e.timestamp=a(t.tz):e.timestamp=(new Date).toISOString(),e}));e.exports={successLogger:function(){try{return n.createLogger({transports:[].concat(i,[new o({name:"success-file",level:"info",filename:"./logs/success_%DATE%.log",json:!1,datePattern:"YYYY-MM",prepend:!0,format:n.format.combine(s({tz:process.env.TIMEZONE}),n.format.simple(),n.format.printf((function(e){var t=e.timestamp,r=e.level,n=e.message;return JSON.stringify({timestamp:t,level:r.toUpperCase(),message:n})})))})])})}catch(e){return n.createLogger()}}(),errorLogger:function(){try{return n.createLogger({transports:[].concat(i,[new o({name:"error-file",level:"error",filename:"./logs/error_%DATE%.log",json:!1,datePattern:"YYYY-MM",prepend:!0,format:n.format.combine(s({tz:process.env.TIMEZONE}),n.format.simple(),n.format.printf((function(e){var t=e.timestamp,r=e.level,n=e.message;return JSON.stringify({timestamp:t,level:r.toUpperCase(),message:n})})))})])})}catch(e){return n.createLogger()}}()}},8971:(e,t,r)=>{var n=r(8476).successLogger;e.exports=function(e){n.info("Message : ".concat(e))}},681:(e,t,r)=>{var n=r(6386);e.exports=function(e,t){var r=1e3*parseInt(process.env.MAX_AGE,10),o=n(t);return e.cookie("jwt",o,{httpOnly:!0,maxAge:r,sameSite:"None",secure:!0}),o}},3954:(e,t,r)=>{var n=r(8450),o=r(2320),a=n({definition:{openapi:"3.0.0",info:{title:"Node.js Express MongoDB CRUD API",version:"1.0.0"},components:{securitySchemes:{bearerAuth:{type:"http",scheme:"bearer",bearerFormat:"JWT"}}}},apis:["./swagger/*.js"]});e.exports={swaggerUi:o,swaggerSpec:a}},6941:e=>{function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}e.exports={toTimezone:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n={hour:"numeric",timeZone:e,timeZoneName:"long"},o=function(e){return new Intl.DateTimeFormat("en",e).formatToParts(r).reduce((function(e,t){return e[t.type]=t.value,e}),Object.create(null))},a=o({year:"numeric",month:"short",day:"2-digit",weekday:"short",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:e,timeZoneName:"shortOffset",hour12:!1}),i=a.year,s=a.month,c=a.day,u=a.weekday,l=a.hour,f=a.minute,h=a.second,p=a.timeZoneName,d=/\+/.test(p)?"+":"-",y=t(p.substr(4).split(":"),2),v=y[0],g=y[1],m="GMT".concat(d).concat(v.padStart(2,"0")).concat(g||"00");return p=o(n).timeZoneName,"".concat(u," ").concat(s," ").concat(c," ").concat(i," ").concat(l,":").concat(f,":").concat(h," ").concat(m," (").concat(p,")")},toTimestampLog:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n={hour:"numeric",timeZone:e,timeZoneName:"long"},o=function(e){return new Intl.DateTimeFormat("en",e).formatToParts(r).reduce((function(e,t){return e[t.type]=t.value,e}),Object.create(null))},a=o({year:"numeric",month:"2-digit",day:"2-digit",weekday:"short",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:e,timeZoneName:"shortOffset",hour12:!1}),i=a.year,s=a.month,c=a.day,u=(a.weekday,a.hour),l=a.minute,f=a.second,h=a.timeZoneName,p=/\+/.test(h)?"+":"-",d=t(h.substr(4).split(":"),2),y=d[0],v=d[1],g="GMT".concat(p).concat(y.padStart(2,"0")).concat(v||"00");return h=o(n).timeZoneName,"".concat(i,"-").concat(s,"-").concat(c," ").concat(u,":").concat(l,":").concat(f," ").concat(g)}}},971:(e,t,r)=>{var n=r(8461),o=r(6928),a=n.diskStorage({destination:function(e,t,r){r(null,"uploads/")},filename:function(e,t,r){var n=o.extname(t.originalname);r(null,Date.now()+n)}}),i=n({storage:a});e.exports=i},766:(e,t)=>{t.checkOperationAccessibilityByRole=function(e,t,r){var n=t;if(!Array.from({length:n-1+1},(function(e,t){return 1+t})).includes(e)){var o=new Error;throw o.status=403,o.message="You are not authorized. Please contact your administrator.",o.error="You are not authorized to access the ".concat(r),o}},t.getDataAccessibilityRoleFilter=function(e){if(99===e){var t=new Error;throw t.status=403,t.message="You are not authorized. Please contact your administrator.",t.error="You are not authorized to access this data",t}for(var r=[],n=e;n<=10;n++)r.push(n);return{$in:r}}},1180:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){"use strict";o=function(){return t};var e,t={},r=Object.prototype,a=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),s=new A(n||[]);return i(a,"_invoke",{value:O(e,r,s)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function k(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,L=E&&E(E(N([])));L&&L!==r&&a.call(L,c)&&(x=L);var I=k.prototype=b.prototype=Object.create(x);function B(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,i,s,c){var u=p(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==n(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var o;i(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}})}function O(t,r,n){var o=d;return function(a,i){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var u=p(t,r,n);if("normal"===u.type){if(o=n.done?g:y,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=p(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(a.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=k,i(I,"constructor",{value:k,configurable:!0}),i(k,"constructor",{value:w,configurable:!0}),w.displayName=f(k,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,f(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),f(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(h(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),f(I,l,"Generator"),f(I,c,(function(){return this})),f(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function a(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}var i=r(829),s=r(2493);e.exports={requireAuth:function(e,t,r){var n=e.cookies.jwt;if(!n)return t.status(401).send({success:!1,message:"You are not authorized",error:"Token not found"});i.verify(n,process.env.JWT_SECRET,(function(e,n){if(e)return t.status(401).send({success:!1,message:"You are not authorized",error:e.message});r()}))},checkUser:function(e,t,r){var n=e.body.token;n||(n=e.cookies.jwt),n?i.verify(n,process.env.JWT_SECRET,function(){var e,n=(e=o().mark((function e(n,a){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=4;break}t.locals.user=null,e.next=8;break;case 4:return e.next=6,s.findById(a.id);case 6:i=e.sent,t.locals.user=i;case 8:r();case 9:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){a(i,n,o,s,c,"next",e)}function c(e){a(i,n,o,s,c,"throw",e)}s(void 0)}))});return function(e,t){return n.apply(this,arguments)}}()):(t.locals.user=null,r())}}},1911:(e,t,r)=>{function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(){"use strict";i=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),s=new A(n||[]);return o(i,"_invoke",{value:O(e,r,s)}),i}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function k(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,L=E&&E(E(N([])));L&&L!==r&&n.call(L,c)&&(x=L);var I=k.prototype=b.prototype=Object.create(x);function B(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,i,s,c){var u=p(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==a(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function O(t,r,n){var o=d;return function(a,i){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var u=p(t,r,n);if("normal"===u.type){if(o=n.done?g:y,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=p(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(a(t)+" is not iterable")}return w.prototype=k,o(I,"constructor",{value:k,configurable:!0}),o(k,"constructor",{value:w,configurable:!0}),w.displayName=f(k,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,f(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),f(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(h(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),f(I,l,"Generator"),f(I,c,(function(){return this})),f(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function s(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){s(a,n,o,i,c,"next",e)}function c(e){s(a,n,o,i,c,"throw",e)}i(void 0)}))}}var u,l=r(8971),f=r(9596),h=r(6037),p=new h.Schema({bookCategoryName:{type:String,required:[!0,"Book category name is required"],unique:!0,validate:{validator:(u=c(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.constructor.findOne({bookCategoryName:{$regex:new RegExp("^".concat(t,"$"),"i")}});case 2:return r=e.sent,e.abrupt("return",!r);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)}),message:function(e){return"Book category '".concat(e.value,"' already exists.")}}},bookCategoryDescription:{type:String},bookCategoryAccessLevel:{type:Number,default:10}},{timestamps:!0});p.statics.createDefaultBookCategory=c(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.findOne({bookCategoryName:"Undefined"});case 3:if(e.sent){e.next=8;break}return e.next=7,v.create({bookCategoryName:"Undefined",bookCategoryDescription:"Undefined",bookCategoryAccessLevel:10});case 7:l("Default book category is created.");case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),f("Error creating default book category:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));var d=function(e){if("object"!==a(e)||null===e){var t=new Error;throw t.status=400,t.message="The book category is not valid",t.error="The book category is null or undefined",t}if(!("_id"in e)||"string"!=typeof e._id){var r=new Error;throw r.status=400,r.message="The book category is not valid",r.error="The book category is not containing _id property",r}},y=function(e){if("object"!==a(e)||null===e){var t=new Error;throw t.status=400,t.message="The book category is not valid",t.error="The book category is null or undefined",t}if(!("bookCategoryName"in e&&"string"==typeof e.bookCategoryName||"bookCategoryDescription"in e&&("string"==typeof e.bookCategoryDescription||void 0===e.bookCategoryDescription)||"bookCategoryAccessLevel"in e&&("number"==typeof e.bookCategoryAccessLevel||void 0===e.bookCategoryAccessLevel))){var r=new Error;throw r.status=400,r.message="The book category is invalid",r.error="The book category is not containing at least one of the required properties",r}};p.statics.generateBulkUpdateOperations=function(e){return function(e){if(!Array.isArray(e)){var t=new Error;throw t.status=400,t.message="The input value is not valid array",t.error="The list is not valid array",t}var r,o=n(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;d(a),y(a)}}catch(e){o.e(e)}finally{o.f()}}(e),e.map((function(e){return{updateOne:{filter:{_id:e._id},update:{$set:{bookCategoryName:e.bookCategoryName,bookCategoryDescription:e.bookCategoryDescription,bookCategoryAccessLevel:e.bookCategoryAccessLevel}}}}}))},p.statics.generateBulkDeleteOperations=function(e){return e.map((function(e){return{deleteOne:{filter:{$or:[{_id:e._id},{bookCategoryName:e.bookCategoryName},{bookCategoryDescription:e.bookCategoryDescription},{bookCategoryAccessLevel:e.bookCategoryAccessLevel}]}}}}))},p.statics.generateSearchOperations=function(e,t){y(t);for(var r=t.bookCategoryName,n=t.bookCategoryDescription,o=t.bookCategoryAccessLevel,a=[],i=e;i<=10;i++)a.push(i);if(!a.includes(e)){var s=new Error;throw s.status=401,s.message="You are not authorized. Please contact your administrator.",s.error="You are not authorized to access this data, request user role serial: ".concat(e),s}return{$or:[r?{bookCategoryName:{$regex:new RegExp(r,"i")}}:{role:999},n?{bookCategoryDescription:{$regex:new RegExp(n,"i")}}:{role:999},o?{bookCategoryAccessLevel:{$eq:o}}:{role:999}],$and:[{bookCategoryAccessLevel:{$in:a}}]}};var v=h.model("bookCategory",p);e.exports=v},9047:(e,t,r)=>{function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(){"use strict";i=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),s=new A(n||[]);return o(i,"_invoke",{value:O(e,r,s)}),i}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function k(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,L=E&&E(E(N([])));L&&L!==r&&n.call(L,c)&&(x=L);var I=k.prototype=b.prototype=Object.create(x);function B(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,i,s,c){var u=p(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==a(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function O(t,r,n){var o=d;return function(a,i){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var u=p(t,r,n);if("normal"===u.type){if(o=n.done?g:y,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=p(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(a(t)+" is not iterable")}return w.prototype=k,o(I,"constructor",{value:k,configurable:!0}),o(k,"constructor",{value:w,configurable:!0}),w.displayName=f(k,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,f(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),f(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(h(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),f(I,l,"Generator"),f(I,c,(function(){return this})),f(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function s(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}var c,u,l=r(6037),f=new l.Schema({bookTitle:{type:String,required:[!0,"Book title is required"],unique:!0,validate:{validator:(c=i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.constructor.findOne({bookTitle:{$regex:new RegExp("^".concat(t,"$"),"i")}});case 2:return r=e.sent,e.abrupt("return",!r);case 4:case"end":return e.stop()}}),e,this)})),u=function(){var e=this,t=arguments;return new Promise((function(r,n){var o=c.apply(e,t);function a(e){s(o,r,n,a,i,"next",e)}function i(e){s(o,r,n,a,i,"throw",e)}a(void 0)}))},function(e){return u.apply(this,arguments)}),message:function(e){return"Book title '".concat(e.value,"' already exists.")}}},stock:{type:Number,required:[!0,"Stock is required"],default:1},bookCategoryId:{type:l.Schema.Types.ObjectId},author:{type:String,required:[!0,"Author name is required"]},ISBN:{type:String},publisher:{type:String},publishDate:{type:Date},language:{type:String},coverImage:{type:String},note:{type:String},bookInfoAccessLevel:{type:Number,default:10}},{timestamps:!0}),h=function(e){if("object"!==a(e)||null===e){var t=new Error;throw t.status=400,t.message="The user is not valid",t.error="The user is null or undefined",t}if(!("_id"in e)||"string"!=typeof e._id){var r=new Error;throw r.status=400,r.message="The user is not valid",r.error="The user is not containing _id property",r}},p=function(e){if("object"!==a(e)||null===e){var t=new Error;throw t.status=400,t.message="The user is not valid",t.error="The user is null or undefined",t}if(!("bookTitle"in e&&"string"==typeof e.bookTitle||"stock"in e&&"number"==typeof e.stock||"bookCategoryId"in e&&("string"==typeof e.bookCategoryId||void 0===e.bookCategoryId)||"author"in e&&("string"==typeof e.author||void 0===e.author)||"ISBN"in e&&("number"==typeof e.ISBN||void 0===e.ISBN)||"Publisher"in e&&"string"==typeof e.Publisher||void 0===e.Publisher||"publishDate"in e&&"date"==typeof e.publishDate||void 0===e.publishDate||"language"in e&&("string"==typeof e.language||void 0===e.language)||"coverImage"in e&&("string"==typeof e.coverImage||void 0===e.coverImage)||"note"in e&&("string"==typeof e.note||void 0===e.note)||"bookInfoAccessLevel"in e&&"number"==typeof e.bookInfoAccessLevel)){var r=new Error;throw r.status=400,r.message="The user is invalid",r.error="The user is not containing at least one of the required properties",r}};f.statics.generateBulkUpdateOperations=function(e){return function(e){if(!Array.isArray(e)){var t=new Error;throw t.status=400,t.message="The input value is not valid array",t.error="The list is not valid array",t}var r,o=n(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;h(a),p(a)}}catch(e){o.e(e)}finally{o.f()}}(e),e.map((function(e){return{updateOne:{filter:{_id:e._id},update:{$set:{bookTitle:e.bookTitle,stock:e.stock,bookCategoryId:e.bookCategoryId,author:e.author,ISBN:e.ISBN,Publisher:e.Publisher,publishDate:e.publishDate,language:e.language,coverImage:e.coverImage,note:e.note,bookInfoAccessLevel:e.bookInfoAccessLevel}}}}}))},f.statics.generateBulkDeleteOperations=function(e){return e.map((function(e){e._id;return{deleteOne:{filter:{$or:[{bookTitle:e.bookTitle},{stock:e.stock},{bookCategoryId:e.bookCategoryId},{author:e.author},{ISBN:e.ISBN},{Publisher:e.Publisher},{publishDate:e.publishDate},{language:e.language},{coverImage:e.coverImage},{note:e.note},{bookInfoAccessLevel:e.bookInfoAccessLevel}]}}}}))},f.statics.generateSearchOperations=function(e,t){p(t);for(var r=t.bookTitle,n=t.stock,o=t.author,a=t.ISBN,i=t.Publisher,s=t.publishDate,c=t.language,u=t.coverImage,l=t.note,f=t.bookInfoAccessLevel,h=[],d=e;d<=10;d++)h.push(d);if(!h.includes(e)){var y=new Error;throw y.status=401,y.message="You are not authorized. Please contact your administrator.",y.error="You are not authorized to access this data, request user role serial: ".concat(e),y}return{$or:[r?{bookTitle:{$regex:new RegExp(r,"i")}}:{role:999},n?{stock:{$eq:n}}:{role:999},o?{author:{$regex:new RegExp(o,"i")}}:{role:999},a?{ISBN:{$regex:new RegExp(a,"i")}}:{role:999},i?{Publisher:{$regex:new RegExp(i,"i")}}:{role:999},s?{publishDate:{$gte:moment(s).startOf("day").toISOString(),$lt:moment(s).endOf("day").toISOString()}}:{role:999},c?{language:{$regex:new RegExp(c,"i")}}:{role:999},u?{coverImage:{$regex:new RegExp(u,"i")}}:{role:999},l?{note:{$regex:new RegExp(l,"i")}}:{role:999},f?{bookInfoAccessLevel:{$eq:f}}:{role:999}],$and:[{roleSerial:{$in:h}}]}};var d=l.model("bookInfo",f);e.exports=d},9579:(e,t,r)=>{function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var i=r(6037),s=r(4716),c=new i.Schema({reservationRef:{type:String,required:[!0,"Book reservation reference is required"],unique:!0},userId:{type:i.Schema.Types.ObjectId,ref:"user",required:[!0,"User ID is required"]},reservationStatusNum:{type:Number,required:[!0,"Reservation status number is required"],enum:[1,2,3],default:1},reservationDate:{type:Date,required:[!0,"Reservation date is required"],default:Date.now()},reservationAccessLevel:{type:Number,default:10},reservationComment:{type:String}},{timestamps:!0}),u=function(e){if("object"!==a(e)||null===e){var t=new Error;throw t.status=400,t.message="The book reservation is not valid",t.error="The book reservation is null or undefined",t}if(!("_id"in e)||"string"!=typeof e._id){var r=new Error;throw r.status=400,r.message="The book reservation is not valid",r.error="The book reservation is not containing _id property",r}},l=function(e){if("object"!==a(e)||null===e){var t=new Error;throw t.status=400,t.message="The book reservation is not valid",t.error="The book reservation is null or undefined",t}if(!("reservationRef"in e&&"string"==typeof e.reservationRef||"userId"in e&&"string"==typeof e.userId||"reservationStatusNum"in e&&"number"==typeof e.reservationStatusNum||"reservationDate"in e&&"date"==typeof e.reservationDate||"reservationAccessLevel"in e&&"number"==typeof e.reservationAccessLevel||"reservationComment"in e&&("string"==typeof e.reservationComment||void 0===e.reservationComment))){var r=new Error;throw r.status=400,r.message="The book reservation is invalid",r.error="The book reservation is not containing at least one of the required properties",r}};c.statics.generateBulkUpdateOperations=function(e){return function(e){if(!Array.isArray(e)){var t=new Error;throw t.status=400,t.message="The input value is not valid array",t.error="The list is not valid array",t}var r,o=n(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;u(a),l(a)}}catch(e){o.e(e)}finally{o.f()}}(e),e.map((function(e){return{updateOne:{filter:{_id:e._id},update:{$set:{reservationRef:e.reservationRef,userId:e.userId,reservationStatusNum:e.reservationStatusNum,reservationDate:e.reservationDate,reservationAccessLevel:e.reservationAccessLevel,reservationComment:e.reservationComment}}}}}))},c.statics.generateBulkDeleteOperations=function(e){return e.map((function(e){var t=e._id,r=e.reservationRef,n=(e.bookReservationSerial,e.bookReservationDescription,e.reservationAccessLevel);return{deleteOne:{filter:{$or:[{_id:t},{reservationRef:r},{userId},{reservationStatusNum},{reservationDate},{reservationAccessLevel:n},{reservationComment}]}}}}))},c.statics.generateSearchOperations=function(e,t){l(t);for(var r=t.reservationRef,n=t.userId,o=t.reservationStatusNum,a=t.reservationDate,i=t.reservationAccessLevel,c=t.reservationComment,u=[],f=e;f<=10;f++)u.push(f);if(!u.includes(e)){var h=new Error;throw h.status=401,h.message="You are not authorized. Please contact your administrator.",h.error="You are not authorized to access this data, request user role serial: ".concat(e),h}return{$or:[r?{reservationRef:{$regex:new RegExp(r,"i")}}:{role:999},n?{userId:{$regex:new RegExp(n,"i")}}:{role:999},o?{reservationStatusNum:{$eq:o}}:{role:999},a?{reservationDate:{$gte:s(a).startOf("day").toISOString(),$lt:s(a).endOf("day").toISOString()}}:{role:999},i?{reservationAccessLevel:{$eq:i}}:{role:999},c?{reservationComment:{$regex:new RegExp(c,"i")}}:{role:999}],$and:[{reservationAccessLevel:{$in:u}}]}};var f=i.model("bookReservation",c);e.exports=f},8109:(e,t,r)=>{function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(){"use strict";i=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),s=new A(n||[]);return o(i,"_invoke",{value:O(e,r,s)}),i}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function k(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,L=E&&E(E(N([])));L&&L!==r&&n.call(L,c)&&(x=L);var I=k.prototype=b.prototype=Object.create(x);function B(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,i,s,c){var u=p(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==a(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function O(t,r,n){var o=d;return function(a,i){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var u=p(t,r,n);if("normal"===u.type){if(o=n.done?g:y,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=p(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(a(t)+" is not iterable")}return w.prototype=k,o(I,"constructor",{value:k,configurable:!0}),o(k,"constructor",{value:w,configurable:!0}),w.displayName=f(k,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,f(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),f(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(h(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),f(I,l,"Generator"),f(I,c,(function(){return this})),f(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function s(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}r(8971),r(9596);var c,u,l=r(6037),f=new l.Schema({enumTableName:{type:String,required:[!0,"Enum table name is required"],unique:!0,validate:{validator:(c=i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.constructor.findOne({enumTableName:{$regex:new RegExp("^".concat(t,"$"),"i")}});case 2:return r=e.sent,e.abrupt("return",!r);case 4:case"end":return e.stop()}}),e,this)})),u=function(){var e=this,t=arguments;return new Promise((function(r,n){var o=c.apply(e,t);function a(e){s(o,r,n,a,i,"next",e)}function i(e){s(o,r,n,a,i,"throw",e)}a(void 0)}))},function(e){return u.apply(this,arguments)}),message:function(e){return"Enum table name '".concat(e.value,"' already exists.")}}},enumTableSerial:{type:Number,required:[!0,"Enum table number is required"],unique:!0,enum:[1,2,3,4,5,6,7,8,9,10]},enumTableDescription:{type:String},enumTableAccessLevel:{type:Number,default:10}},{timestamps:!0}),h=function(e){if("object"!==a(e)||null===e){var t=new Error;throw t.status=400,t.message="The enum table is not valid",t.error="The enum table is null or undefined",t}if(!("_id"in e)||"string"!=typeof e._id){var r=new Error;throw r.status=400,r.message="The enum table is not valid",r.error="The enum table is not containing _id property",r}},p=function(e){if("object"!==a(e)||null===e){var t=new Error;throw t.status=400,t.message="The enum table is not valid",t.error="The enum table is null or undefined",t}if(!("enumTableName"in e&&"string"==typeof e.enumTableName||"enumTableSerial"in e&&"number"==typeof e.enumTableSerial||"enumTableDescription"in e&&("string"==typeof e.enumTableDescription||void 0===e.enumTableDescription)||"enumTableAccessLevel"in e&&("number"==typeof e.enumTableAccessLevel||void 0===e.enumTableAccessLevel))){var r=new Error;throw r.status=400,r.message="The enum table is invalid",r.error="The enum table is not containing at least one of the required properties",r}};f.statics.generateBulkUpdateOperations=function(e){return function(e){if(!Array.isArray(e)){var t=new Error;throw t.status=400,t.message="The input value is not valid array",t.error="The list is not valid array",t}var r,o=n(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;h(a),p(a)}}catch(e){o.e(e)}finally{o.f()}}(e),e.map((function(e){return{updateOne:{filter:{_id:e._id},update:{$set:{enumTableName:e.enumTableName,enumTableSerial:e.enumTableSerial,enumTableDescription:e.enumTableDescription,enumTableAccessLevel:e.enumTableAccessLevel}}}}}))},f.statics.generateBulkDeleteOperations=function(e){return e.map((function(e){return{deleteOne:{filter:{$or:[{_id:e._id},{enumTableName:e.enumTableName},{enumTableSerial:e.enumTableSerial},{enumTableDescription:e.enumTableDescription},{enumTableAccessLevel:e.enumTableAccessLevel}]}}}}))},f.statics.generateSearchOperations=function(e,t){p(t);for(var r=t.enumTableName,n=t.enumTableSerial,o=t.enumTableDescription,a=t.enumTableAccessLevel,i=[],s=e;s<=10;s++)i.push(s);if(!i.includes(e)){var c=new Error;throw c.status=401,c.message="You are not authorized. Please contact your administrator.",c.error="You are not authorized to access this data, request user role serial: ".concat(e),c}return{$or:[r?{enumTableName:{$regex:new RegExp(r,"i")}}:{role:999},n?{enumTableSerial:{$eq:n}}:{role:999},o?{enumTableDescription:{$regex:new RegExp(o,"i")}}:{role:999},a?{enumTableAccessLevel:{$eq:a}}:{role:999}],$and:[{enumTableAccessLevel:{$in:i}}]}};var d=l.model("enumTable",f);e.exports=d},1877:(e,t,r)=>{var n=r(6037),o=new n.Schema({bookReservationId:{type:n.Schema.Types.ObjectId,ref:"bookReservation",required:[!0,"Book reservation ID is required"]},bookInfoId:{type:n.Schema.Types.ObjectId,ref:"bookInfo",required:[!0,"Book info ID is required"]},quantity:{type:Number,required:[!0,"Quantity is required"],default:1},note:{type:String}},{timestamps:!1});o.index({bookReservationId:1,bookInfoId:1},{unique:!0});var a=n.model("reservationDetail",o);e.exports=a},2493:(e,t,r)=>{function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(){"use strict";i=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),s=new A(n||[]);return o(i,"_invoke",{value:O(e,r,s)}),i}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function k(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,L=E&&E(E(N([])));L&&L!==r&&n.call(L,c)&&(x=L);var I=k.prototype=b.prototype=Object.create(x);function B(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,i,s,c){var u=p(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==a(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function O(t,r,n){var o=d;return function(a,i){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var u=p(t,r,n);if("normal"===u.type){if(o=n.done?g:y,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=p(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(a(t)+" is not iterable")}return w.prototype=k,o(I,"constructor",{value:k,configurable:!0}),o(k,"constructor",{value:w,configurable:!0}),w.displayName=f(k,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,f(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),f(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(h(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),f(I,l,"Generator"),f(I,c,(function(){return this})),f(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function s(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){s(a,n,o,i,c,"next",e)}function c(e){s(a,n,o,i,c,"throw",e)}i(void 0)}))}}var u=r(8971),l=r(9596),f=r(6037),h=r(7906).isEmail,p=r(5486),d=new f.Schema({name:{type:String,required:[!0,"user name is required"]},email:{type:String,required:[!0,"Please enter an email"],unique:!0,lowercase:!0,validate:[h,"Please enter a valid email"]},mobile:{type:String,unique:!0,sparse:!0},password:{type:String,required:[!0,"Please enter a password"],minlength:[5,"Minimum password length is 5 characters"]},username:{type:String,unique:!0,sparse:!0},roleSerial:{type:Number,enum:[1,2,3,4,5,6,7,8,9,10],default:99},photo:{type:String},address:{type:Array}},{timestamps:!0});d.pre("save",function(){var e=c(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.genSalt();case 2:return r=e.sent,e.next=5,p.hash(this.password,r);case 5:this.password=e.sent,t();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()),d.statics.login=function(){var e=c(i().mark((function e(t,r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.findOne({email:t});case 2:if(!(n=e.sent)){e.next=10;break}return e.next=6,p.compare(r,n.password);case 6:if(!e.sent){e.next=9;break}return e.abrupt("return",n);case 9:throw Error("incorrect password");case 10:throw Error("incorrect email");case 11:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),d.statics.createDefaultAdminUser=c(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.findOne({roleSerial:1});case 3:if(e.sent){e.next=8;break}return e.next=7,g.create({name:"Admin User",email:"admin@example.com",password:"admin",roleSerial:1});case 7:u("Default admin user is created.");case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),l("Error creating default admin user:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));var y=function(e){if("object"!==a(e)||null===e){var t=new Error;throw t.status=400,t.message="The user is not valid",t.error="The user is null or undefined",t}if(!("_id"in e)||"string"!=typeof e._id){var r=new Error;throw r.status=400,r.message="The user is not valid",r.error="The user is not containing _id property",r}},v=function(e){if("object"!==a(e)||null===e){var t=new Error;throw t.status=400,t.message="The user is not valid",t.error="The user is null or undefined",t}if(!("name"in e&&"string"==typeof e.name||"email"in e&&"string"==typeof e.userSerial||"mobile"in e&&("string"==typeof e.mobile||void 0===e.mobile)||"username"in e&&("string"==typeof e.username||void 0===e.username)||"roleSerial"in e&&("number"==typeof e.roleSerial||void 0===e.roleSerial))){var r=new Error;throw r.status=400,r.message="The user is invalid",r.error="The user is not containing at least one of the required properties",r}};d.statics.generateBulkUpdateOperations=function(e){return function(e){if(!Array.isArray(e)){var t=new Error;throw t.status=400,t.message="The input value is not valid array",t.error="The list is not valid array",t}var r,o=n(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;y(a),v(a)}}catch(e){o.e(e)}finally{o.f()}}(e),e.map((function(e){return{updateOne:{filter:{_id:e._id},update:{$set:{name:e.name,email:e.email,mobile:e.mobile,password:e.password,username:e.username,roleSerial:e.roleSerial,address:e.address}}}}}))},d.statics.generateBulkDeleteOperations=function(e){return e.map((function(e){return{deleteOne:{filter:{$or:[{_id:e._id},{name:e.name},{email:e.email},{mobile:e.mobile},{password:e.password},{username:e.username},{roleSerial:e.roleSerial},{address:e.address}]}}}}))},d.statics.generateSearchOperations=function(e,t){v(t);for(var r=t.name,n=t.email,o=t.mobile,a=t.username,i=t.roleSerial,s=[],c=e;c<=10;c++)s.push(c);if(!s.includes(e)){var u=new Error;throw u.status=401,u.message="You are not authorized. Please contact your administrator.",u.error="You are not authorized to access this data, request user role serial: ".concat(e),u}return{$or:[r?{name:{$regex:new RegExp(r,"i")}}:{role:999},n?{email:{$regex:new RegExp(n,"i")}}:{role:999},o?{mobile:{$regex:new RegExp(o,"i")}}:{role:999},a?{username:{$regex:new RegExp(a,"i")}}:{role:999},i?{roleSerial:{$eq:i}}:{role:999}],$and:[{roleSerial:{$in:s}}]}};var g=f.model("user",d);e.exports=g},9921:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){"use strict";o=function(){return t};var e,t={},r=Object.prototype,a=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),s=new A(n||[]);return i(a,"_invoke",{value:O(e,r,s)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function k(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,L=E&&E(E(N([])));L&&L!==r&&a.call(L,c)&&(x=L);var I=k.prototype=b.prototype=Object.create(x);function B(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,i,s,c){var u=p(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==n(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var o;i(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}})}function O(t,r,n){var o=d;return function(a,i){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var u=p(t,r,n);if("normal"===u.type){if(o=n.done?g:y,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=p(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(a.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(n(t)+" is not iterable")}return w.prototype=k,i(I,"constructor",{value:k,configurable:!0}),i(k,"constructor",{value:w,configurable:!0}),w.displayName=f(k,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,f(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},B(S.prototype),f(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(h(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),f(I,l,"Generator"),f(I,c,(function(){return this})),f(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function a(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){a(i,n,o,s,c,"next",e)}function c(e){a(i,n,o,s,c,"throw",e)}s(void 0)}))}}r(8971);var s=r(9596),c=r(6037),u=new c.Schema({roleName:{type:String,required:[!0,"user name is required"],unique:!0},roleSerial:{type:Number,required:[!0,"user role is required"],unique:!0,enum:[1,2,3,4,5,6,7,8,9,10]},Description:{type:String},userRoleAccessLevel:{type:Number,default:10}},{timestamps:!0});u.statics.createDefaultUserRoles=i(o().mark((function e(){var t,r,n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[{roleName:"Admin",roleSerial:1,Description:"Only Admin can access",userRoleAccessLevel:1},{roleName:"User",roleSerial:2,Description:"User as well as Admin can access",userRoleAccessLevel:2}],e.next=4,l.find({});case 4:if(r=e.sent,n=t.filter((function(e){return!r.some((function(t){return t.roleSerial===e.roleSerial}))})),a=[],!(n.length>0)){e.next=11;break}return n.forEach((function(e){a.push({roleName:e.roleName,roleSerial:e.roleSerial,Description:e.Description,userRoleAccessLevel:e.userRoleAccessLevel})})),e.next=11,l.insertMany(a);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),s("Error creating default user roles:",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])}))),u.statics.generateBulkUpdateOperations=function(e){return e.map((function(e){return{updateOne:{filter:{_id:e._id},update:{$set:{roleName:e.roleName,roleSerial:e.roleSerial,Description:e.Description,userRoleAccessLevel:e.userRoleAccessLevel}}}}}))},u.statics.generateBulkDeleteOperations=function(e){return e.map((function(e){return{deleteOne:{filter:{$or:[{_id:e._id},{roleName:e.roleName},{roleSerial:e.roleSerial},{Description:e.Description},{userRoleAccessLevel:e.userRoleAccessLevel}]}}}}))},u.statics.generateSearchOperations=function(e,t){if(99===e){var r=new Error("You are not authorized to access this data");throw r.status=401,r}if(!t){var n=new Error("Please provide valid Operation Accessibility Level for the method");throw n.status=401,n}for(var o=t.roleName,a=t.roleSerial,i=t.Description,s=t.userRoleAccessLevel,c=[],u=t;u<=10;u++)c.push(u);if(!c.includes(e)){var l=new Error("You are not authorized to access this data");throw l.status=401,l}return{$or:[o?{name:{$regex:new RegExp(o,"i")}}:{role:999},a?{roleSerial:{$regex:new RegExp(a,"i")}}:{role:999},i?{Description:{$regex:new RegExp(i,"i")}}:{role:999},s?{userRoleAccessLevel:{$eq:s}}:{role:999}],$and:[{userRoleAccessLevel:{$in:c}}]}};var l=c.model("userRole",u);e.exports=l},8146:(e,t,r)=>{var n=r(7252),o=r(1180).requireAuth,a=n.Router(),i=r(3555),s=i.getBookCategoriesController,c=i.getBookCategoryByIdController,u=i.getBookCategoriesByIdsController,l=i.createBookCategoryController,f=i.createBulkBookCategoryController,h=i.updateBookCategoryByIdController,p=i.updateBalkBookCategoryController,d=i.deleteBookCategoryByIdController,y=i.deleteBulkBookCategoryController,v=i.searchBookCategoryController;a.get("/",o,s),a.get("/:id",o,c),a.post("/by-ids",o,u),a.post("/",o,l),a.post("/bulk-create",o,f),a.put("/:id",o,h),a.post("/bulk-update",o,p),a.delete("/bulk-delete",o,y),a.delete("/:id",o,d),a.post("/search",o,v),e.exports=a},7938:(e,t,r)=>{var n=r(7252),o=r(1180).requireAuth,a=n.Router(),i=r(971),s=r(887),c=s.getBookInfosController,u=s.getBookInfoByIdController,l=s.getBookInfosByIdsController,f=s.createBookInfoController,h=s.createBulkBookInfoController,p=s.updateBookInfoByIdController,d=s.updateBalkBookInfoController,y=s.deleteBookInfoByIdController,v=s.deleteBulkBookInfoController,g=s.searchBookInfoController;a.get("/",o,c),a.get("/:id",o,u),a.post("/by-ids",o,l),a.post("/",o,i.single("coverImage"),f),a.post("/bulk-create",o,h),a.put("/:id",o,p),a.post("/bulk-update",o,d),a.delete("/bulk-delete",o,v),a.delete("/:id",o,y),a.post("/search",o,g),e.exports=a},4998:(e,t,r)=>{var n=r(7252),o=r(1180).requireAuth,a=n.Router(),i=r(2693),s=i.getBookReservationsController,c=(i.getBookReservationByIdController,i.createBookReservationController),u=i.updateBookReservationByIdController,l=i.deleteBookReservationByIdController,f=i.searchBookReservationController,h=i.getAvailableBookController,p=i.getReservedBookController;a.get("/available-book",o,h),a.get("/reserved-book",o,p),a.get("/",o,s),a.get("/:id",o,p),a.post("/",o,c),a.put("/:id",o,u),a.delete("/:id",o,l),a.post("/search",o,f),e.exports=a},5228:(e,t,r)=>{var n=r(7252),o=r(1180).requireAuth,a=n.Router(),i=r(9415),s=i.getEnumTablesController,c=i.getEnumTableByIdController,u=i.getEnumTablesByIdsController,l=i.createEnumTableController,f=i.createBulkEnumTableController,h=i.updateEnumTableByIdController,p=i.updateBalkEnumTableController,d=i.deleteEnumTableByIdController,y=i.deleteBulkEnumTableController,v=i.searchEnumTableController;a.get("/",o,s),a.get("/:id",o,c),a.post("/by-ids",o,u),a.post("/",o,l),a.post("/bulk-create",o,f),a.put("/:id",o,h),a.post("/bulk-update",o,p),a.delete("/bulk-delete",o,y),a.delete("/:id",o,d),a.post("/search",o,v),e.exports=a},5520:(e,t,r)=>{var n=r(7252),o=r(1180).requireAuth,a=n.Router(),i=r(9449),s=i.getUserRolesController,c=i.getUserRoleByIdController,u=i.getUserRolesByIdsController,l=i.createUserRoleController,f=i.createBulkUserRoleController,h=i.updateUserRoleByIdController,p=i.updateBalkUserRoleController,d=i.deleteUserRoleByIdController,y=i.deleteBulkUserRoleController,v=i.searchUserRoleController;a.get("/",o,s),a.get("/:id",o,c),a.post("/by-ids",o,u),a.post("/",o,l),a.post("/bulk-create",o,f),a.put("/:id",o,h),a.post("/bulk-update",o,p),a.delete("/:id",o,d),a.delete("/bulk-delete",o,y),a.post("/search",o,v),e.exports=a},5516:(e,t,r)=>{var n=r(7252),o=r(1180).requireAuth,a=n.Router(),i=r(971),s=r(8905),c=s.getUsersController,u=s.getUserByIdController,l=s.getUsersByIdsController,f=s.createUserController,h=s.createBulkUserController,p=s.updateUserController,d=s.updateBalkUserController,y=s.deleteUserController,v=s.deleteBulkUserController,g=s.searchUserController,m=s.loginUserController,b=s.logoutUserController,w=s.registerUserController,k=s.checkUserController;a.get("/",o,c),a.get("/:id",o,u),a.post("/by-ids",o,l),a.post("/",o,i.single("photo"),f),a.post("/bulk-create",o,h),a.put("/:id",o,p),a.post("/bulk-update",o,d),a.delete("/bulk-delete",o,v),a.delete("/:id",o,y),a.post("/search",o,g),a.post("/register",w),a.post("/login",m),a.post("/logout",b),a.post("/check",k),e.exports=a},5486:e=>{"use strict";e.exports=require("bcrypt")},6898:e=>{"use strict";e.exports=require("cookie-parser")},818:e=>{"use strict";e.exports=require("dotenv")},7252:e=>{"use strict";e.exports=require("express")},829:e=>{"use strict";e.exports=require("jsonwebtoken")},4716:e=>{"use strict";e.exports=require("moment")},6037:e=>{"use strict";e.exports=require("mongoose")},8461:e=>{"use strict";e.exports=require("multer")},8450:e=>{"use strict";e.exports=require("swagger-jsdoc")},2320:e=>{"use strict";e.exports=require("swagger-ui-express")},7906:e=>{"use strict";e.exports=require("validator")},5124:e=>{"use strict";e.exports=require("winston")},9233:e=>{"use strict";e.exports=require("winston-daily-rotate-file")},6928:e=>{"use strict";e.exports=require("path")},8330:e=>{"use strict";e.exports=JSON.parse('{"name":"book-reservation-api","version":"1.0.0","description":"","main":"index.js","scripts":{"start":"node src/index.js","test":"mocha --config mocha.config.json","start:build":"node build/index.js","build":"babel src -d build","start:dev":"node dev-build/main.js","start:prod":"node prod-build/main.js","build:dev":"webpack --config webpack.dev.js","build:prod":"webpack --config webpack.prod.js"},"author":"Ahmad A. Zaman","license":"ISC","dependencies":{"bcrypt":"^5.1.1","cookie-parser":"^1.4.6","dotenv":"^16.3.1","express":"^4.18.2","jsonwebtoken":"^9.0.2","moment":"^2.30.1","mongoose":"^8.0.4","multer":"^1.4.5-lts.1","swagger-jsdoc":"^6.2.8","swagger-ui-express":"^5.0.0","validator":"^13.11.0","winston":"^3.11.0","winston-daily-rotate-file":"^4.7.1"},"devDependencies":{"@babel/cli":"^7.23.9","@babel/core":"^7.23.9","@babel/node":"^7.23.9","@babel/preset-env":"^7.23.9","babel-loader":"^9.1.3","babel-plugin-minify-replace":"^0.5.0","babel-plugin-transform-remove-console":"^6.9.4","chai":"^4.2.0","chai-as-promised":"^7.1.1","chai-http":"^4.4.0","clean-webpack-plugin":"^4.0.0","css-minimizer-webpack-plugin":"^6.0.0","esm":"^3.2.25","mini-css-extract-plugin":"^2.8.0","mocha":"^10.2.0","sinon":"^17.0.1","webpack":"^5.90.2","webpack-cli":"^5.1.4","webpack-node-externals":"^3.0.0"}}')}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}(()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(){"use strict";t=function(){return n};var r,n={},o=Object.prototype,a=o.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(r){f=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),s=new A(n||[]);return i(a,"_invoke",{value:O(e,r,s)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}n.wrap=h;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function b(){}function w(){}function k(){}var x={};f(x,c,(function(){return this}));var E=Object.getPrototypeOf,L=E&&E(E(N([])));L&&L!==o&&a.call(L,c)&&(x=L);var I=k.prototype=b.prototype=Object.create(x);function B(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function S(t,r){function n(o,i,s,c){var u=p(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==e(f)&&a.call(f,"__await")?r.resolve(f.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):r.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,c)}))}c(u.arg)}var o;i(this,"_invoke",{value:function(e,t){function a(){return new r((function(r,o){n(e,t,r,o)}))}return o=o?o.then(a,a):a()}})}function O(e,t,n){var o=d;return function(a,i){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:r,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var u=p(e,t,n);if("normal"===u.type){if(o=n.done?g:y,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}function _(e,t){var n=t.method,o=e.iterator[n];if(o===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=r,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=p(o,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,m):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function e(){for(;++o<t.length;)if(a.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=r,e.done=!0,e};return i.next=i}}throw new TypeError(e(t)+" is not iterable")}return w.prototype=k,i(I,"constructor",{value:k,configurable:!0}),i(k,"constructor",{value:w,configurable:!0}),w.displayName=f(k,l,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,f(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},n.awrap=function(e){return{__await:e}},B(S.prototype),f(S.prototype,u,(function(){return this})),n.AsyncIterator=S,n.async=function(e,t,r,o,a){void 0===a&&(a=Promise);var i=new S(h(e,t,r,o),a);return n.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},B(I),f(I,l,"Generator"),f(I,c,(function(){return this})),f(I,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},n.values=N,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,o){return s.type="throw",s.arg=e,t.next=n,o&&(t.method="next",t.arg=r),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=r),m}},n}function n(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(o,a){var i=e.apply(t,r);function s(e){n(i,o,a,s,c,"next",e)}function c(e){n(i,o,a,s,c,"throw",e)}s(void 0)}))}}r(818).config();var a=r(8330),i=r(8971),s=r(7252),c=r(9822),u=r(3954),l=r(6898),f=r(2493),h=r(9921),p=r(1911),d=r(1180).checkUser;c();var y=s();y.use(s.json()),y.use(l()),y.use("/v1/uploads",s.static("uploads")),y.get("*",d),y.use("/v1/api-docs",u.swaggerUi.serve,u.swaggerUi.setup(u.swaggerSpec)),y.use("/v1/user",r(5516)),y.use("/v1/user-role",r(5520)),y.use("/v1/enum-table",r(5228)),y.use("/v1/book-info",r(7938)),y.use("/v1/book-reservation",r(4998)),y.use("/v1/book-category",r(8146)),y.get("/",(function(e,t){t.redirect("/v1/api-docs")}));var v=process.env.PORT||3e3;y.listen(v,o(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.createDefaultUserRoles();case 2:return e.next=4,f.createDefaultAdminUser();case 4:return e.next=6,p.createDefaultBookCategory();case 6:i("".concat(a.name," app, version ").concat(a.version,", is listening on port ").concat(v));case 7:case"end":return e.stop()}}),e)}))))})()})();